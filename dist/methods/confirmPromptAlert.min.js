jQuery.drop.setMethod("confirmPromptAlert",function(opt,hashChange,_confirmF,e,el,undefined){var self=this,$=jQuery;if(opt.alert){var optC=$.extend({},opt),drop=self._pasteDrop(optC,opt.patternAlert),pp=drop.find(opt.placePaste).empty();opt.alertText&&$.drop.drp.existsN(pp)&&pp.html(function(){try{if("function"===$.type(eval(opt.alertText)))return eval(opt.alertText).call($(this),opt,drop,el)}catch(e){return opt.alertText}}),self._show.call(el,drop,e,optC,hashChange),function(drop,_confirmF,opt){drop.find(opt.alertActionBtn).off("click."+$.drop.nS).on("click."+$.drop.nS,function(e){e.stopPropagation(),self.close.call(drop,e,_confirmF),opt.ok&&eval(opt.ok).call(el,opt,drop,e,"alert"),drop.trigger("dropOk",{type:"alert",event:e,anchor:el,drop:drop,options:opt,methods:self})})}(drop,_confirmF,opt)}else if(opt.confirm){var optC=$.extend({},opt),drop=self._pasteDrop(optC,opt.patternConfirm),pp=drop.find(opt.placePaste).empty();opt.confirmText&&$.drop.drp.existsN(pp)&&pp.html(function(){try{if("function"===$.type(eval(opt.confirmText)))return eval(opt.confirmText).call($(this),opt,drop,el)}catch(e){return opt.confirmText}}),self._show.call(el,drop,e,optC,hashChange),function(drop,_confirmF,opt){drop.find(opt.confirmActionBtn).off("click."+$.drop.nS).on("click."+$.drop.nS,function(e){e.stopPropagation(),self.close.call(drop,e,_confirmF),opt.ok&&eval(opt.ok).call(el,opt,drop,e,"confirm"),drop.trigger("dropOk",{type:"confirm",event:e,anchor:el,drop:drop,options:opt,methods:self})})}(drop,_confirmF,opt)}else if(opt.prompt){var optP=$.extend({},opt),drop=self._pasteDrop(optP,opt.patternPrompt),pp=drop.find(opt.placePaste).empty();opt.promptText&&$.drop.drp.existsN(pp)&&pp.html(function(){try{if("function"===$.type(eval(opt.promptText)))return eval(opt.promptText).call($(this),opt,drop,el)}catch(e){return opt.promptText}}),self._show.call(el,drop,e,optP,hashChange),function(drop,_confirmF,opt,optP){drop.find(opt.promptActionBtn).off("click."+$.drop.nS).on("click."+$.drop.nS,function(e){e.stopPropagation();var getUrlVars=function(a){for(var b,c={},d=a.slice(a.indexOf("?")+1).split("&"),e=0;e<d.length;e++)b=d[e].split("="),c[b[0]]=b[1];return c};optP.dataPrompt=opt.dataPrompt=getUrlVars($(this).closest("form").serialize()),self.close.call(drop,e,_confirmF),opt.ok&&eval(opt.ok).call(el,opt,drop,e,"prompt",opt.dataPrompt),drop.trigger("dropOk",{type:"prompt",dataPrompt:opt.dataPrompt,event:e,anchor:el,drop:drop,options:opt,methods:self})})}(drop,_confirmF,opt,optP)}return el.data("dropConfirmPromptAlert",drop),self});