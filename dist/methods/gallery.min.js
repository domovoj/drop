!function(a,b){var c=function(b,c,d){var e=this;return a("[data-elrun][data-rel"+(b?'="'+b+'"':"")+"]."+a.drop.drp.activeClass).each(function(){var b=a(this),f=b.data("drp");e.gallery(b,f,c,d)})};a.drop.setMethod("_cIGallery",function(a){var b=jQuery;clearInterval(b.drop.drp.autoPlayInterval[a]),delete b.drop.drp.autoPlayInterval[a]}),a.drop.setMethod("gallery",function(a,c,d,e){var f=jQuery,g=f(document),h=this,i=f.drop.drp.gallery[c.rel];if(!i)return h;var j=i.length;if(1>=j)return h;var k=f.inArray(c.href,i),l="string"===f.type(c.prev)?a.find(c.prev):c.prev,m="string"===f.type(c.next)?a.find(c.next):c.next;if(l.add(m).hide().attr("disabled","disabled"),-1===k)return!1;if(k===j-1&&0===k&&!c.cycle)return!1;k!==j-1&&m.show().removeAttr("disabled"),0!==k&&l.show().removeAttr("disabled"),c.cycle&&l.add(m).show().removeAttr("disabled");var n=function(a,b){if(!i[a])return k-=1,!1;var d=f('[data-href="'+i[a]+'"][rel="'+c.rel+'"], [href="'+i[a]+'"][rel="'+c.rel+'"]');h._cIGallery(c.rel),h.open.call(d,f.extend(f.extend({},c),d.data("drp"),{href:i[a],drop:null}),b)},o=function(a){return k+=a,c.cycle&&(k>=j&&(k=0),0>k&&(k=j-1)),k};return l.add(m).off("click."+f.drop.nS).on("click."+f.drop.nS,function(a){a.stopPropagation(),k=f.inArray(c.href,i),h._cIGallery(c.rel),n(o(f(this).is(l)?-1:1),a)}),e!==b&&null!==e&&k!==e&&i[e]&&n(e,null),d&&n(o(1===d?1:-1),null),null===e&&(c.autoPlay?(c.autoPlay=!1,h._cIGallery(c.rel)):c.autoPlay=!0),c.autoPlay&&(f.drop.drp.autoPlayInterval[c.rel]?h._cIGallery(c.rel):f.drop.drp.autoPlayInterval[c.rel]=setInterval(function(){h._cIGallery(c.rel),n(o(1))},c.autoPlaySpeed)),a.off("dropClose."+f.drop.nS).on("dropClose."+f.drop.nS,function(){h._cIGallery(f(this).data("drp").rel),g.off("keydown."+f.drop.nS+c.rel)}),c.keyNavigate&&a.off("dropAfter."+f.drop.nS).on("dropAfter."+f.drop.nS,function(){var a=f(this).data("drp");g.off("keydown."+f.drop.nS+a.rel).on("keydown."+f.drop.nS+a.rel,function(a){var b=a.keyCode;(37===b||39===b)&&a.preventDefault(),37===b&&n(o(-1),a),39===b&&n(o(1),a)})}),h}),a.drop.next=function(a){return c(a,1)},a.drop.prev=function(a){return c(a,-1)},a.drop.jumpto=function(a,b){return c(b,null,a)},a.drop.play=function(a){return c(a,null,null)}}(jQuery);