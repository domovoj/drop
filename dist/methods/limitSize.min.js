jQuery.drop.setMethod("_heightContent",function(a,b){var c=this,d=jQuery,e=d(window);return(a||this).each(function(a){var f=d(this),g=f.data("drp");if("inherit"!==g.place&&g.limitSize){var h=f.is(":visible");if(h||f.show(),g.placeContent){var i=f.find(d(g.placeContent)).filter(":visible");i.data("jsp")&&i.data("jsp").destroy(),i=f.find(d(g.placeContent)).filter(":visible").css({height:""});var j=i.find(g.placePaste).css("height","");if(d.drop.drp.existsN(i)){var k=g.elrun,l=!1,m=i.css({overflow:""}).outerHeight();g.scrollContent?d.fn.jScrollPane?(l=i.jScrollPane(g.jScrollPane).data("jsp"),d.drop.drp.existsN(i.find(".jspPane"))&&(m=i.find(".jspPane").outerHeight())):i.css("overflow","auto"):i.css("overflow","hidden");var n,o=f.outerHeight(),p=f.height(),q=f.find(d(g.placeHeader)).outerHeight()+f.find(d(g.placeFooter)).outerHeight();if("global"===g.place){var r=0,s=g.placement;"object"===d.type(s)?(s.top!==b&&(r=s.bottom-e.scrollTop()-q-(o-p)),s.bottom!==b&&(r=e.height()-s.top+e.scrollTop()-q-(o-p))):(s.search(/top/)>=0&&(r=k.offset().top-e.scrollTop()-q-(o-p)),s.search(/bottom/)>=0&&(r=e.height()-k.offset().top+e.scrollTop()-q-(o-p)-k.outerHeight())),n=r>m?m:r}else n=m+q>p||g.isFullScreen?p-q:m;m>n&&g.scrollContent&&f.addClass(d.drop.drp.pC+"is-scroll"),i.css("height",n),g.scrollContent||i.find(g.placePaste).css("height",n-j.outerHeight()+j.height()),l&&l.reinitialise(),a!==!0&&(arguments.callee.call(f,!0),c._limit(f,g,!0))}}h||f.hide()}})}),jQuery.drop.setMethod("limitSize",function(a,b){var c=this,d=jQuery;return a.each(function(){var a=d(this).removeClass(d.drop.drp.pC+"is-limit-size"),b=a.data("drp");c._limit(a,b),c._checkMethod(function(){c._heightContent(a)})})}),jQuery.drop.setMethod("_limit",function(a,b,c,d){var e=$(window);if("image"===b.type)var f=a.find(b.placePaste).children("img").css({"max-width":"","max-height":""});if(b.limitSize&&"center"===b.place){if(a.css({width:"",height:""}),b.placeContent&&!c){var g=a.find($(b.placeContent)).filter(":visible").data("jsp");g&&g.destroy(),a.removeClass($.drop.drp.pC+"is-scroll").find(b.placeContent).add(a.find(b.placePaste)).filter(":visible").css("height","")}a.addClass($.drop.drp.pC+"is-limit-size"),"image"!==b.type||b.scrollContent||f.css({"max-width":"100%","max-height":"100%"});var h=e.width(),i=e.height(),j=a[$.drop.drp.actual]("outerWidth"),k=a[$.drop.drp.actual]("outerHeight"),l=a[$.drop.drp.actual]("width"),m=a[$.drop.drp.actual]("height");j>h&&a.css("width",h-j+l),k>i&&a.css("height",i-k+m)}});