!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}),!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){a.fn.jScrollPane=function(b){function c(b,c){function d(c){var f,h,j,k,l,o,p=!1,q=!1;if(N=c,void 0===O)l=b.scrollTop(),o=b.scrollLeft(),b.css({overflow:"hidden",padding:0}),P=b.innerWidth()+ra,Q=b.innerHeight(),b.width(P),O=a('<div class="jspPane" />').css("padding",qa).append(b.children()),R=a('<div class="jspContainer" />').css({width:P+"px",height:Q+"px"}).append(O).appendTo(b);else{if(b.css("width",""),p=N.stickToBottom&&A(),q=N.stickToRight&&B(),k=b.innerWidth()+ra!=P||b.outerHeight()!=Q,k&&(P=b.innerWidth()+ra,Q=b.innerHeight(),R.css({width:P+"px",height:Q+"px"})),!k&&sa==S&&O.outerHeight()==T)return void b.width(P);sa=S,O.css("width",""),b.width(P),R.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}O.css("overflow","auto"),S=c.contentWidth?c.contentWidth:O[0].scrollWidth,T=O[0].scrollHeight,O.css("overflow",""),U=S/P,V=T/Q,W=V>1,X=U>1,X||W?(b.addClass("jspScrollable"),f=N.maintainPosition&&($||ba),f&&(h=y(),j=z()),e(),g(),i(),f&&(w(q?S-P:h,!1),v(p?T-Q:j,!1)),F(),C(),L(),N.enableKeyboardNavigation&&H(),N.clickOnTrack&&m(),J(),N.hijackInternalLinks&&K()):(b.removeClass("jspScrollable"),O.css({top:0,left:0,width:R.width()-ra}),D(),G(),I(),n()),N.autoReinitialise&&!pa?pa=setInterval(function(){d(N)},N.autoReinitialiseDelay):!N.autoReinitialise&&pa&&clearInterval(pa),l&&b.scrollTop(0)&&v(l,!1),o&&b.scrollLeft(0)&&w(o,!1),b.trigger("jsp-initialised",[X||W])}function e(){W&&(R.append(a('<div class="jspVerticalBar" />').append(a('<div class="jspCap jspCapTop" />'),a('<div class="jspTrack" />').append(a('<div class="jspDrag" />').append(a('<div class="jspDragTop" />'),a('<div class="jspDragBottom" />'))),a('<div class="jspCap jspCapBottom" />'))),ca=R.find(">.jspVerticalBar"),da=ca.find(">.jspTrack"),Y=da.find(">.jspDrag"),N.showArrows&&(ha=a('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",k(0,-1)).bind("click.jsp",E),ia=a('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",k(0,1)).bind("click.jsp",E),N.arrowScrollOnHover&&(ha.bind("mouseover.jsp",k(0,-1,ha)),ia.bind("mouseover.jsp",k(0,1,ia))),j(da,N.verticalArrowPositions,ha,ia)),fa=Q,R.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){fa-=a(this).outerHeight()}),Y.hover(function(){Y.addClass("jspHover")},function(){Y.removeClass("jspHover")}).bind("mousedown.jsp",function(b){a("html").bind("dragstart.jsp selectstart.jsp",E),Y.addClass("jspActive");var c=b.pageY-Y.position().top;return a("html").bind("mousemove.jsp",function(a){p(a.pageY-c,!1)}).bind("mouseup.jsp mouseleave.jsp",o),!1}),f())}function f(){da.height(fa+"px"),$=0,ea=N.verticalGutter+da.outerWidth(),O.width(P-ea-ra);try{0===ca.position().left&&O.css("margin-left",ea+"px")}catch(a){}}function g(){X&&(R.append(a('<div class="jspHorizontalBar" />').append(a('<div class="jspCap jspCapLeft" />'),a('<div class="jspTrack" />').append(a('<div class="jspDrag" />').append(a('<div class="jspDragLeft" />'),a('<div class="jspDragRight" />'))),a('<div class="jspCap jspCapRight" />'))),ja=R.find(">.jspHorizontalBar"),ka=ja.find(">.jspTrack"),_=ka.find(">.jspDrag"),N.showArrows&&(na=a('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",k(-1,0)).bind("click.jsp",E),oa=a('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",k(1,0)).bind("click.jsp",E),N.arrowScrollOnHover&&(na.bind("mouseover.jsp",k(-1,0,na)),oa.bind("mouseover.jsp",k(1,0,oa))),j(ka,N.horizontalArrowPositions,na,oa)),_.hover(function(){_.addClass("jspHover")},function(){_.removeClass("jspHover")}).bind("mousedown.jsp",function(b){a("html").bind("dragstart.jsp selectstart.jsp",E),_.addClass("jspActive");var c=b.pageX-_.position().left;return a("html").bind("mousemove.jsp",function(a){r(a.pageX-c,!1)}).bind("mouseup.jsp mouseleave.jsp",o),!1}),la=R.innerWidth(),h())}function h(){R.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){la-=a(this).outerWidth()}),ka.width(la+"px"),ba=0}function i(){if(X&&W){var b=ka.outerHeight(),c=da.outerWidth();fa-=b,a(ja).find(">.jspCap:visible,>.jspArrow").each(function(){la+=a(this).outerWidth()}),la-=c,Q-=c,P-=b,ka.parent().append(a('<div class="jspCorner" />').css("width",b+"px")),f(),h()}X&&O.width(R.outerWidth()-ra+"px"),T=O.outerHeight(),V=T/Q,X&&(ma=Math.ceil(1/U*la),ma>N.horizontalDragMaxWidth?ma=N.horizontalDragMaxWidth:ma<N.horizontalDragMinWidth&&(ma=N.horizontalDragMinWidth),_.width(ma+"px"),aa=la-ma,s(ba)),W&&(ga=Math.ceil(1/V*fa),ga>N.verticalDragMaxHeight?ga=N.verticalDragMaxHeight:ga<N.verticalDragMinHeight&&(ga=N.verticalDragMinHeight),Y.height(ga+"px"),Z=fa-ga,q($))}function j(a,b,c,d){var e,f="before",g="after";"os"==b&&(b=/Mac/.test(navigator.platform)?"after":"split"),b==f?g=b:b==g&&(f=b,e=c,c=d,d=e),a[f](c)[g](d)}function k(a,b,c){return function(){return l(a,b,this,c),this.blur(),!1}}function l(b,c,d,e){d=a(d).addClass("jspActive");var f,g,h=!0,i=function(){0!==b&&ta.scrollByX(b*N.arrowButtonSpeed),0!==c&&ta.scrollByY(c*N.arrowButtonSpeed),g=setTimeout(i,h?N.initialDelay:N.arrowRepeatFreq),h=!1};i(),f=e?"mouseout.jsp":"mouseup.jsp",e=e||a("html"),e.bind(f,function(){d.removeClass("jspActive"),g&&clearTimeout(g),g=null,e.unbind(f)})}function m(){n(),W&&da.bind("mousedown.jsp",function(b){if(void 0===b.originalTarget||b.originalTarget==b.currentTarget){var c,d=a(this),e=d.offset(),f=b.pageY-e.top-$,g=!0,h=function(){var a=d.offset(),e=b.pageY-a.top-ga/2,j=Q*N.scrollPagePercent,k=Z*j/(T-Q);if(0>f)$-k>e?ta.scrollByY(-j):p(e);else{if(!(f>0))return void i();e>$+k?ta.scrollByY(j):p(e)}c=setTimeout(h,g?N.initialDelay:N.trackClickRepeatFreq),g=!1},i=function(){c&&clearTimeout(c),c=null,a(document).unbind("mouseup.jsp",i)};return h(),a(document).bind("mouseup.jsp",i),!1}}),X&&ka.bind("mousedown.jsp",function(b){if(void 0===b.originalTarget||b.originalTarget==b.currentTarget){var c,d=a(this),e=d.offset(),f=b.pageX-e.left-ba,g=!0,h=function(){var a=d.offset(),e=b.pageX-a.left-ma/2,j=P*N.scrollPagePercent,k=aa*j/(S-P);if(0>f)ba-k>e?ta.scrollByX(-j):r(e);else{if(!(f>0))return void i();e>ba+k?ta.scrollByX(j):r(e)}c=setTimeout(h,g?N.initialDelay:N.trackClickRepeatFreq),g=!1},i=function(){c&&clearTimeout(c),c=null,a(document).unbind("mouseup.jsp",i)};return h(),a(document).bind("mouseup.jsp",i),!1}})}function n(){ka&&ka.unbind("mousedown.jsp"),da&&da.unbind("mousedown.jsp")}function o(){a("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),Y&&Y.removeClass("jspActive"),_&&_.removeClass("jspActive")}function p(a,b){W&&(0>a?a=0:a>Z&&(a=Z),void 0===b&&(b=N.animateScroll),b?ta.animate(Y,"top",a,q):(Y.css("top",a),q(a)))}function q(a){void 0===a&&(a=Y.position().top),R.scrollTop(0),$=a||0;var c=0===$,d=$==Z,e=a/Z,f=-e*(T-Q);(ua!=c||wa!=d)&&(ua=c,wa=d,b.trigger("jsp-arrow-change",[ua,wa,va,xa])),t(c,d),O.css("top",f),b.trigger("jsp-scroll-y",[-f,c,d]).trigger("scroll")}function r(a,b){X&&(0>a?a=0:a>aa&&(a=aa),void 0===b&&(b=N.animateScroll),b?ta.animate(_,"left",a,s):(_.css("left",a),s(a)))}function s(a){void 0===a&&(a=_.position().left),R.scrollTop(0),ba=a||0;var c=0===ba,d=ba==aa,e=a/aa,f=-e*(S-P);(va!=c||xa!=d)&&(va=c,xa=d,b.trigger("jsp-arrow-change",[ua,wa,va,xa])),u(c,d),O.css("left",f),b.trigger("jsp-scroll-x",[-f,c,d]).trigger("scroll")}function t(a,b){N.showArrows&&(ha[a?"addClass":"removeClass"]("jspDisabled"),ia[b?"addClass":"removeClass"]("jspDisabled"))}function u(a,b){N.showArrows&&(na[a?"addClass":"removeClass"]("jspDisabled"),oa[b?"addClass":"removeClass"]("jspDisabled"))}function v(a,b){var c=a/(T-Q);p(c*Z,b)}function w(a,b){var c=a/(S-P);r(c*aa,b)}function x(b,c,d){var e,f,g,h,i,j,k,l,m,n=0,o=0;try{e=a(b)}catch(p){return}for(f=e.outerHeight(),g=e.outerWidth(),R.scrollTop(0),R.scrollLeft(0);!e.is(".jspPane");)if(n+=e.position().top,o+=e.position().left,e=e.offsetParent(),/^body|html$/i.test(e[0].nodeName))return;h=z(),j=h+Q,h>n||c?l=n-N.horizontalGutter:n+f>j&&(l=n-Q+f+N.horizontalGutter),isNaN(l)||v(l,d),i=y(),k=i+P,i>o||c?m=o-N.horizontalGutter:o+g>k&&(m=o-P+g+N.horizontalGutter),isNaN(m)||w(m,d)}function y(){return-O.position().left}function z(){return-O.position().top}function A(){var a=T-Q;return a>20&&a-z()<10}function B(){var a=S-P;return a>20&&a-y()<10}function C(){R.unbind(za).bind(za,function(a,b,c,d){ba||(ba=0),$||($=0);var e=ba,f=$,g=a.deltaFactor||N.mouseWheelSpeed;return ta.scrollBy(c*g,-d*g,!1),e==ba&&f==$})}function D(){R.unbind(za)}function E(){return!1}function F(){O.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(a){x(a.target,!1)})}function G(){O.find(":input,a").unbind("focus.jsp")}function H(){function c(){var a=ba,b=$;switch(d){case 40:ta.scrollByY(N.keyboardSpeed,!1);break;case 38:ta.scrollByY(-N.keyboardSpeed,!1);break;case 34:case 32:ta.scrollByY(Q*N.scrollPagePercent,!1);break;case 33:ta.scrollByY(-Q*N.scrollPagePercent,!1);break;case 39:ta.scrollByX(N.keyboardSpeed,!1);break;case 37:ta.scrollByX(-N.keyboardSpeed,!1)}return e=a!=ba||b!=$}var d,e,f=[];X&&f.push(ja[0]),W&&f.push(ca[0]),O.focus(function(){b.focus()}),b.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(b){if(b.target===this||f.length&&a(b.target).closest(f).length){var g=ba,h=$;switch(b.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:d=b.keyCode,c();break;case 35:v(T-Q),d=null;break;case 36:v(0),d=null}return e=b.keyCode==d&&g!=ba||h!=$,!e}}).bind("keypress.jsp",function(a){return a.keyCode==d&&c(),!e}),N.hideFocus?(b.css("outline","none"),"hideFocus"in R[0]&&b.attr("hideFocus",!0)):(b.css("outline",""),"hideFocus"in R[0]&&b.attr("hideFocus",!1))}function I(){b.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function J(){if(location.hash&&location.hash.length>1){var b,c,d=escape(location.hash.substr(1));try{b=a("#"+d+', a[name="'+d+'"]')}catch(e){return}b.length&&O.find(d)&&(0===R.scrollTop()?c=setInterval(function(){R.scrollTop()>0&&(x(b,!0),a(document).scrollTop(R.position().top),clearInterval(c))},50):(x(b,!0),a(document).scrollTop(R.position().top)))}}function K(){a(document.body).data("jspHijack")||(a(document.body).data("jspHijack",!0),a(document.body).delegate("a[href*=#]","click",function(b){var c,d,e,f,g,h,i=this.href.substr(0,this.href.indexOf("#")),j=location.href;if(-1!==location.href.indexOf("#")&&(j=location.href.substr(0,location.href.indexOf("#"))),i===j){c=escape(this.href.substr(this.href.indexOf("#")+1));try{d=a("#"+c+', a[name="'+c+'"]')}catch(k){return}d.length&&(e=d.closest(".jspScrollable"),f=e.data("jsp"),f.scrollToElement(d,!0),e[0].scrollIntoView&&(g=a(window).scrollTop(),h=d.offset().top,(g>h||h>g+a(window).height())&&e[0].scrollIntoView()),b.preventDefault())}}))}function L(){var a,b,c,d,e,f=!1;R.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(g){var h=g.originalEvent.touches[0];a=y(),b=z(),c=h.pageX,d=h.pageY,e=!1,f=!0}).bind("touchmove.jsp",function(g){if(f){var h=g.originalEvent.touches[0],i=ba,j=$;return ta.scrollTo(a+c-h.pageX,b+d-h.pageY),e=e||Math.abs(c-h.pageX)>5||Math.abs(d-h.pageY)>5,i==ba&&j==$}}).bind("touchend.jsp",function(){f=!1}).bind("click.jsp-touchclick",function(){return e?(e=!1,!1):void 0})}function M(){var a=z(),c=y();b.removeClass("jspScrollable").unbind(".jsp"),b.replaceWith(ya.append(O.children())),ya.scrollTop(a),ya.scrollLeft(c),pa&&clearInterval(pa)}var N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta=this,ua=!0,va=!0,wa=!1,xa=!1,ya=b.clone(!1,!1).empty(),za=a.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";"border-box"===b.css("box-sizing")?(qa=0,ra=0):(qa=b.css("paddingTop")+" "+b.css("paddingRight")+" "+b.css("paddingBottom")+" "+b.css("paddingLeft"),ra=(parseInt(b.css("paddingLeft"),10)||0)+(parseInt(b.css("paddingRight"),10)||0)),a.extend(ta,{reinitialise:function(b){b=a.extend({},N,b),d(b)},scrollToElement:function(a,b,c){x(a,b,c)},scrollTo:function(a,b,c){w(a,c),v(b,c)},scrollToX:function(a,b){w(a,b)},scrollToY:function(a,b){v(a,b)},scrollToPercentX:function(a,b){w(a*(S-P),b)},scrollToPercentY:function(a,b){v(a*(T-Q),b)},scrollBy:function(a,b,c){ta.scrollByX(a,c),ta.scrollByY(b,c)},scrollByX:function(a,b){var c=y()+Math[0>a?"floor":"ceil"](a),d=c/(S-P);r(d*aa,b)},scrollByY:function(a,b){var c=z()+Math[0>a?"floor":"ceil"](a),d=c/(T-Q);p(d*Z,b)},positionDragX:function(a,b){r(a,b)},positionDragY:function(a,b){p(a,b)},animate:function(a,b,c,d){var e={};e[b]=c,a.animate(e,{duration:N.animateDuration,easing:N.animateEase,queue:!1,step:d})},getContentPositionX:function(){return y()},getContentPositionY:function(){return z()},getContentWidth:function(){return S},getContentHeight:function(){return T},getPercentScrolledX:function(){return y()/(S-P)},getPercentScrolledY:function(){return z()/(T-Q)},getIsScrollableH:function(){return X},getIsScrollableV:function(){return W},getContentPane:function(){return O},scrollToBottom:function(a){p(Z,a)},hijackInternalLinks:a.noop,destroy:function(){M()}}),d(c)}return b=a.extend({},a.fn.jScrollPane.defaults,b),a.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){b[this]=b[this]||b.speed}),this.each(function(){var d=a(this),e=d.data("jsp");e?e.reinitialise(b):(a("script",d).filter('[type="text/javascript"],:not([type])').remove(),e=new c(d,b),d.data("jsp",e))})},a.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:void 0,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}}),function($,wnd,doc,undefined){var methods={init:function(a){var b=$.extend({},DP,a);if(!D.existsN(this))throw"The object isn't exists";return this.each(function(){var a=methods.destroy.call($(this)),c=$.extend({},b,a.data());a.data("drp",c);var d=$.trim(a.attr("href")||c.href);c.href=d&&0===d.indexOf("#")?null:d,c.hash=/#.+?$/.test(d)?d.match(/(#.+?$)/g)[0]:c.hash,c.rel=$.trim(this.rel||c.rel),methods._setGallery(c),a.addClass(D.isD),c.context?(a.on("contextmenu."+$.drop.nS+" click."+$.drop.nS,function(a){a.preventDefault()}),a.on("mouseup."+$.drop.nS,function(a){a.preventDefault(),2===a.button&&methods.open.call($(this),null,a)})):c.triggerOn||c.triggerOff?a.on(c.triggerOn+"."+$.drop.nS+" "+c.triggerOff+"."+$.drop.nS,function(a){a.stopPropagation(),a.preventDefault()}).on(c.triggerOn+"."+$.drop.nS,function(a){methods.open.call($(this),null,a)}).on(c.triggerOff+"."+$.drop.nS,function(a){methods.close.call($($(this).attr("data-drop")),a)}):a.on(c.trigger+"."+$.drop.nS,function(a){methods.open.call($(this),null,a),a.stopPropagation(),a.preventDefault()}),/#.+/.test(c.hash)&&!D.hashs[c.hash]&&(D.hashs[c.hash]=a)}).each(function(){D.busy=!1,-1!==window.location.hash.indexOf($(this).data("drp").hash)&&methods.open.call($(this),$.extend({isStart:!0},b,$(this).data("drp")),"startHash")})},destroy:function(a){return(a||this).each(function(){var a=$(this),b=$(a).data("drp");a.removeClass(D.isD).removeData("drp"),b&&(b.trigger&&a.off(b.trigger+"."+$.drop.nS),b.triggerOn&&a.off(b.triggerOn+"."+$.drop.nS),b.triggerOff&&a.off(b.triggerOff+"."+$.drop.nS),a.off("contextmenu."+$.drop.nS).off("mouseup."+$.drop.nS).off("click."+$.drop.nS))})},_get:function(a,b,c){var d=a.href.replace(D.reg,"");a.isStart||$.drop.cancel();var e=this,f=e.data(),g=function(f){if(f=f?f:"response is empty",a.dropn)var g=methods._pasteDrop(a,f);else g=methods._pasteDrop(a,a.pattern);return a.dropn||g.find($(a.placePaste)).html(f),g.addClass(D.pC+a.type),a.always||(D.drops[d]=g.clone()),methods._show.call(e,g,b,a,c),g},h=function(){a.type=f.type="image";var b=D.imgPreload=new Image;b.onload=function(){$.drop.hideLoading(),this.onload=this.onerror=null,g($(this))},b.onerror=function(){this.onload=this.onerror=null,$.drop.hideLoading(),D.busy=!1,methods.open.call(null,{notify:!0,datas:{answer:"error",data:"image is not found"}},"errorImage")},b.src=a.href+(a.always?"?"+ +new Date:"")},i=function(){a.type=f.type="ajax",D.curAjax=$.ajax($.extend({url:a.href,dataType:a.ajax.dataType?a.ajax.dataType:a.notify?"json":"html",success:function(d){$.drop.hideLoading(),a.notify?methods._pasteNotify.call(e,d,a,c,b):g(d)},error:function(){$.drop.hideLoading(),D.busy=!1,methods.open.call(null,{notify:!0,datas:{answer:"error",data:methods._errorM(arguments[2])}},"errorAjax")}},a.ajax))},j=function(){a.type=f.type="iframe";var b=$('<iframe name="drop-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(navigator.userAgent.match(/msie/i)?' allowtransparency="true"':"")+"></iframe>");b.one("load."+$.drop.nS,function(){$.drop.hideLoading()}),g(b)};if($.drop.showLoading(),"auto"===a.type)a.href.match(D.regImg)?h():i();else switch(a.type){case"image":h();break;case"iframe":j();break;default:i()}return e},open:function(opt,e,hashChange){function _show(){$this.is(":disabled")||opt.drop&&opt.start&&!eval(opt.start).call($this,opt,drop,e)||(opt.prompt||opt.confirm||opt.alert?(elSet.dropn=elSet.drop,opt.drop=opt.tempClassS,opt.style=methods._styleCreate(opt),methods._checkMethod(function(){methods.confirmPromptAlert(opt,hashChange,_confirmF,e,$this)})):_confirmF())}if(D.busy)return!1;D.busy=!0;var $this=D.existsN(this)?this:$([]),elSet=D.existsN($this)?$this.data():{};opt=$.extend({},DP,elSet&&elSet.drp?elSet.drp:{},opt),e=e?e:window.event,elSet.dropConfirmPromptAlert&&methods.close.call(elSet.dropConfirmPromptAlert,"element already open",null,null,!0);var drop=$(elSet.drop);if(opt.closeActiveClick&&D.existsN(drop)&&$this.hasClass(D.activeClass))return methods.close.call(drop,"element already open"),$this;(elSet.drop||opt.drop&&D.existsN(opt.drop)&&opt.drop.hasClass(D.activeClass))&&methods.close.call(drop,"element already open",null,null,!0),elSet.tempClass&&!elSet.dropn&&(elSet.drop=opt.drop=null),opt.tempClass=elSet.tempClass="drop-"+ +new Date,opt.tempClassS="."+opt.tempClass,(elSet||D.existsN(opt.drop))&&(elSet.dropn=opt.drop),$.extend(opt,elSet);var href=$this.attr("href")||opt.href;opt.href=href&&0===$.trim(href).indexOf("#")?null:href;var hrefC=opt.href?opt.href.replace(D.reg,""):null,rel=$this.attr("rel")||opt.rel;opt.hash=/#.+?$/.test(href)?href.match(/(#.+?$)/g)[0]:opt.hash,rel&&D.gallery[rel]&&(opt.rel=rel),opt.rel&&D.galleryOpt[opt.rel]&&$.extend(opt,D.galleryOpt[opt.rel].genOpt,D.galleryOpt[opt.rel][hrefC]),methods._setGallery(opt),opt.href&&opt.always&&(opt.drop=elSet.dropn?elSet.dropn:null),opt.drop=opt.drop&&"string"===$.type(opt.drop)?opt.drop:opt.tempClassS,(!D.existsN($this)||elSet.dropId!==undefined&&!D.exists('[data-drop-id="'+elSet.dropId+'"]'))&&($this=$('<a data-drop-id="'+D.cOD+'" style="display: none !important;" data-drop="'+opt.drop+'" class="'+D.tempClass+'" href="'+(opt.href?opt.href:"#")+'" rel="'+(opt.rel?opt.rel:null)+'"></a>').appendTo($("body"))),opt.context&&($.extend(opt,{place:"global",limitSize:!0,overlay:!1}),e&&e.pageX>=0?opt.placement={left:parseInt(e.pageX),top:parseInt(e.pageY)}:opt.placement={left:$this.offset().left,top:$this.offset().top}),opt.elrun=$this,opt.filter&&($this.hasClass("drop-filter")?(opt.tempClassS=elSet.dropn=opt.drop,opt.tempClass=null):(methods._filterSource.call($this,opt.filter).addClass(opt.tempClass),elSet.dropn=opt.drop=opt.tempClassS,$this.addClass("drop-filter"))),$this.attr("data-drop",opt.drop).data("drop",opt.drop),drop=$(elSet.dropn);var _confirmF=function(){if(opt.style=methods._styleCreate(opt),opt.notify&&opt.datas)methods._pasteNotify.call($this,opt.datas,opt,hashChange,e);else if(opt.filter)methods._show.call($this,methods._pasteDrop(opt,drop.addClass(D.wasCreateClass)),e,opt,hashChange);else if(opt.html)drop=methods._pasteDrop(opt,opt.pattern),drop.find($(opt.placePaste)).html(opt.html),methods._show.call($this,drop,e,opt,hashChange);else if(!opt.href||D.drops[hrefC]&&!opt.always)if(D.existsN(drop)||opt.href&&D.drops[hrefC])methods._show.call($this,methods._pasteDrop(opt,D.existsN(drop)?drop.addClass(D.wasCreateClass):D.drops[hrefC].clone()),e,opt,hashChange);else{if(!(opt.header||opt.content||opt.footer))throw"Insufficient data";methods._show.call($this,methods._pasteDrop(opt,opt.pattern),e,opt,hashChange)}else methods._get.call($this,opt,e,hashChange)};return!opt.moreOne&&D.exists(D.aDS)?methods.close.call($(D.aDS),"close more one element",_show):_show(),this},_show:function(drop,e,opt,hashChange){function _show(){if(!D.existsN(drop))return!1;e=e?e:window.event;var $this=this;opt.overlay&&(D.exists('[data-rel="'+opt.tempClassS+'"].drop-overlay')||$("body").append($("<div/>",{"class":"drop-overlay","data-rel":opt.tempClassS})),opt.dropOver=$('[data-rel="'+opt.tempClassS+'"].drop-overlay').css({"background-color":opt.overlayColor,opacity:opt.overlayOpacity,"z-index":1103+D.cOD})),drop.data("drp",opt).attr("data-rel",opt.rel).css("z-index",1104+D.cOD).attr("data-elrun",opt.drop).addClass(D.pC+opt.place),opt.context&&drop.addClass(D.pC+"context"),opt.notify&&drop.addClass(D.pC+"notify"),opt.rel&&methods._checkMethod(function(){methods.gallery(drop,opt)}),methods._setHeightAddons(opt.dropOver),methods._pasteContent($this,drop,opt),methods._positionType(drop);var ev=opt.drop?opt.drop.replace(D.reg,""):"";if(opt.hash&&!hashChange){D.scrollTop=wnd.scrollTop();var wLH=window.location.hash;wnd.off("hashchange."+$.drop.nS),-1!==opt.hash.indexOf("#")&&null===new RegExp(opt.hash+"#|"+opt.hash+"$").exec(wLH)&&(window.location.hash=wLH+opt.hash),wnd.scrollTop(D.scrollTop),setTimeout(methods._setEventHash,0)}if(wnd.off("resize."+$.drop.nS+ev).on("resize."+$.drop.nS+ev,function(){methods.update.call(drop)}).off("scroll."+$.drop.nS+ev).on("scroll."+$.drop.nS+ev,function(){"center"===opt.place&&opt.centerOnScroll&&methods["_"+opt.place].call(drop)}),$(opt.dropOver).fadeIn(100).off("click."+$.drop.nS+ev).on("click."+$.drop.nS+ev,function(a){a.stopPropagation(),opt.closeClick&&$(a.target).is(".drop-overlay")&&methods.close.call($($(a.target).attr("data-rel")),a)}),opt.alert||opt.confirm||opt.prompt){var elFocus;opt.alert?elFocus=opt.alertActionBtn:opt.confirm?elFocus=opt.confirmActionBtn:opt.prompt&&(elFocus=opt.promptInput),elFocus=drop.find(elFocus),opt.prompt&&(elFocus.val(opt.promptInputValue),drop.find("form").off("submit."+$.drop.nS+ev).on("submit."+$.drop.nS+ev,function(a){a.preventDefault()}));var focusFunc=function(){elFocus.focus()};setTimeout(focusFunc,0)}opt.exit="string"===$.type(opt.exit)?drop.find(opt.exit):opt.exit,D.existsN(opt.exit)&&(opt.closeClick?opt.exit.show().off("click."+$.drop.nS).on("click."+$.drop.nS,function(a){a.stopPropagation(),methods.close.call($(this).closest("[data-elrun]"),a)}):opt.exit.hide()),opt.context&&drop.add(opt.dropOver).off("contextmenu."+$.drop.nS).on("contextmenu."+$.drop.nS,function(a){a.preventDefault()});var dropWH="iframe"===opt.type?drop.find("iframe"):drop;opt.width&&dropWH.css("width",opt.width),opt.height&&dropWH.css("height",opt.height),$("html, body").css({height:"100%"}),opt.limitSize&&methods._checkMethod(function(){methods.limitSize(drop)}),opt.placeBeforeShow&&methods._checkMethod(function(){methods.placeBeforeShow(drop,$this,opt)}),"inherit"!==opt.place&&methods["_"+opt.place].call(drop),opt.before&&eval(opt.before).call($this,opt,drop,e),drop.trigger("dropBefore",{event:e,anchor:$this,drop:drop,options:opt,methods:methods}),methods._disableScroll(opt),$(".drop-overlay."+D.pC+"for-remove").stop().remove(),drop[opt.effectOn](opt.durationOn,function(){D.cOD++,D.busy=!1;var drop=$(this);"iframe"===opt.type&&dropWH.attr("src",opt.href),$("html, body").css({overflow:"","overflow-x":""}),methods._setHeightAddons(opt.dropOver);var inDrop="iframe"===opt.type?drop.find("iframe").contents().find(D.selAutoInit):drop.find(D.selAutoInit);D.existsN(inDrop)&&methods.init.call(inDrop),drop.add($this).addClass(D.activeClass),D.activeDrop.unshift(opt.drop);var _decoratorClose=function(a,b){("inherit"!==opt.place||opt.inheritClose)&&b&&methods.close.call(opt.closeAll&&D.activeDrop.length?null:$(D.activeDrop[0]),a)};D.activeDropCEsc[opt.drop]=function(a){_decoratorClose(a,opt.closeEsc&&27===a.keyCode)},D.activeDropCClick[opt.drop]=function(a){_decoratorClose(a,opt.closeClick&&!D.existsN($(a.target).closest("[data-elrun]")))},opt.notify&&!isNaN(opt.notifyclosetime)&&(D.notifyTimeout[opt.drop]=setTimeout(function(){methods.close.call(drop,"close notify setTimeout")},opt.notifyclosetime)),opt.droppable&&"inherit"!==opt.place&&methods.droppable(drop),opt.after&&eval(opt.after).call($this,opt,drop,e),drop.trigger("dropAfter",{event:e,anchor:$this,drop:drop,options:opt,methods:methods})})}return!opt.moreOne&&D.exists(D.aDS)?methods.close.call($(D.aDS),"close more one element",$.proxy(_show,this)):_show.call(this),this},close:function(e,f,hashChange,force){var sel=this,drops=D.existsN(sel)?sel:$("[data-elrun]."+D.activeClass),closeLength=drops.length;return drops.each(function(i){var drop=$(this),opt=$.extend({},drop.data("drp"));if(!(!drop.data("drp")||hashChange&&opt.hash&&-1!==window.location.hash.indexOf(opt.hash))){var _hide=function(){opt.notify&&D.notifyTimeout[opt.drop]&&(clearTimeout(D.notifyTimeout[opt.drop]),delete D.notifyTimeout[opt.drop]),D.enableScroll(),"iframe"===opt.type&&drop.find("iframe").removeAttr("src");var ev=opt.drop?opt.drop.replace(D.reg,""):"";wnd.off("resize."+$.drop.nS+ev).off("scroll."+$.drop.nS+ev),D.activeDrop.splice($.inArray(opt.drop,D.activeDrop),1),delete D.activeDropCEsc[opt.drop],delete D.activeDropCClick[opt.drop],D.activeDrop[0]&&$(D.activeDrop[0]).data("drp")&&methods._disableScroll($(D.activeDrop[0]).data("drp")),drop.add(opt.elrun).removeClass(D.activeClass),opt.hash&&!hashChange&&(D.scrollTop=wnd.scrollTop(),wnd.off("hashchange."+$.drop.nS),window.location.hash=window.location.hash.replace(new RegExp(opt.hash+"($|\b)","ig"),"").replace(new RegExp(opt.hash+"#","ig"),"#"),wnd.scrollTop(D.scrollTop),setTimeout(methods._setEventHash,0)),opt.placeAfterClose&&methods._checkMethod(function(){methods.placeAfterClose(drop,opt.elrun,opt)}),drop[opt.effectOff](force?0:opt.durationOff,function(){D.busy=!1,opt.style.remove(),$("html, body").css({overflow:"","overflow-x":""});var $this=$(this);methods._resetStyleDrop.call($(this)),$this.removeClass(D.pC+opt.place).removeClass(D.pC+opt.type).removeClass(D.pC+"context").removeClass(D.pC+"notify"),opt.closed&&eval(opt.closed).call(opt.elrun,opt,$this,e),$this.trigger("dropClosed",{event:e,anchor:opt.elrun,drop:$this,options:opt,methods:methods});var dC=$this.find($(opt.placeContent)).data("jsp");dC&&dC.destroy(),D.exists(D.aDS)||$("html, body").css({height:""}),opt.filter||$this.removeClass(opt.tempClass),opt.elrun.data("dropn")||opt.elrun.data("drop",null),opt.elrun.hasClass(D.tempClass)&&opt.elrun.remove(),$this.data("drp",null),$this.hasClass(D.wasCreateClass)||$this.remove();var condCallback=i===closeLength-1&&$.isFunction(f);opt.dropOver?(opt.dropOver.addClass(D.pC+"for-remove").fadeOut(force?0:opt.durationOff,function(){$(this).remove()}),condCallback&&setTimeout(f,force?0:opt.durationOff+100)):condCallback&&f()})};if(drop.trigger("dropClose",{event:e,anchor:opt.elrun,drop:drop,options:opt,methods:methods}),opt.close){var res=eval(opt.close).call(opt.elrun,opt,drop,e);if(res===!1&&res!==!0)throw res;_hide()}else _hide()}}),sel},update:function(){var a=this,b=a.data("drp");return b?b.isFullScreen?!1:(b.limitSize&&methods._checkMethod(function(){methods.limitSize(a)}),"inherit"!==b.place&&methods._checkMethod(function(){methods["_"+b.place].call(a)},b.place),void methods._setHeightAddons(b.dropOver)):!1},_center:function(){return this.each(function(){var a=$(this),b=a.data("drp");if(!b)return!1;var c=b.animate||b.placeBeforeShow?"animate":"css",d=a.is(":visible"),e=d?a.outerWidth():a[D.actual]("outerWidth"),f=d?a.outerHeight():a[D.actual]("outerHeight"),g=wnd.scrollTop(),h=wnd.scrollLeft(),i=Math.floor((wnd.height()-f)/2),j=Math.floor((wnd.width()-e)/2);i=i>0?i+g:g,j=j>0?j+h:h,a[c]({top:i,left:j},{duration:b.durationOn,queue:!1})})},_global:function(){return this.each(function(){var a=$(this),b=a.data("drp");if(!b&&b.droppableIn)return!1;var c=b.animate||b.placeBeforeShow?"animate":"css",d=b.elrun,e=0,f=0,g=d.width(),h=d.height(),i=+a[D.actual]("outerWidth"),j=+a[D.actual]("outerHeight"),k=wnd.scrollTop(),l=wnd.scrollLeft(),m=d.offset().top,n=d.offset().left,o=0,p=0;if(a.is(":visible")||a.css({top:"auto",bottom:"auto",left:"auto",right:"auto"}),"object"===$.type(b.placement)){var q=b.placement;b.context||(q.top!==undefined&&(q.top=q.top+k),q.left!==undefined&&(q.left=q.left+l),q.bottom!==undefined&&(q.bottom=q.bottom-k),q.right!==undefined&&(q.right=q.right-l)),a[c](q,{duration:b.durationOn,queue:!1})}else{var r=b.placement.toLowerCase().split(" ");"top"===r[1]&&(e=-j),"bottom"===r[1]&&(e=h),"left"===r[0]&&(f=0),"right"===r[0]&&(f=-i+g),"center"===r[0]&&(f=-i/2+g/2),"center"===r[1]&&(e=-j/2+h/2),o=m+e,p=n+f,0>p&&(p=0),a[c]({
top:o,left:p},{duration:b.durationOn,queue:!1})}})},_resetStyleDrop:function(){return this.stop().css({"z-index":"",top:"",left:"",bottom:"",right:"",position:"","box-sizing":""})},_pasteNotify:function(a,b,c,d){if(!$.isFunction(b.handlerNotify))return!1;var e=methods._pasteDrop(b,b.pattern);return b.handlerNotify.call($(this),a,b),methods._show.call($(this),e,d,b,c)},_pasteDrop:function(a,b){return b=$(b),a.dropn&&(b=D.existsN(b.filter(a.drop))?b.filter(a.drop):D.existsN(b.find(a.drop))?b.find(a.drop):b),"inherit"!==a.place?b.appendTo($("body")):a.placeInherit&&$(a.placeInherit)[a.methodPlaceInherit](b),b.hide().addClass(a.tempClass).attr("data-elrun",a.drop)},_pasteContent:function($this,drop,opt){var _checkCont=function(a){a.is(":empty")?a.removeClass(D.noEmptyClass).addClass(D.emptyClass):a.addClass(D.noEmptyClass).removeClass(D.emptyClass)},_pasteContent=function(content,place){return place=drop.find(place).first(),D.existsN(place)?(_checkCont(place),content?void _checkCont(place.empty().html(function(){try{return"function"===$.type(eval(content))?eval(content).call(place,opt,drop,$this):content}catch(e){return content}})):!1):!1};return _pasteContent(opt.header,opt.placeHeader),_pasteContent(opt.content,opt.placePaste),_pasteContent(opt.footer,opt.placeFooter),this},_setHeightAddons:function(a){$(a).css({width:"",height:""}).css({width:wnd.width(),height:doc.height()})},_checkMethod:function(a){try{a()}catch(b){var c=a.toString().match(/\.\S*\(/);throw'Need connected "'+c[0].substring(1,c[0].length-1)+'" method'}return this},_positionType:function(a){return a.data("drp")&&"inherit"!==a.data("drp").place&&a.css({position:a.data("drp").position}),this},_filterSource:function(a){var b,c=this,d=a.split(")."),e="";return $.map(d,function(a){b=(")"!==a[a.length-1]?a+")":a).match(/\(.*\)/),e=b.input.replace(b[0],""),b=b[0].substring(1,b[0].length-1),c=c[e](b)}),c},_setEventHash:function(){D.wLH=window.location.hash,wnd.off("hashchange."+$.drop.nS).on("hashchange."+$.drop.nS,function(a){a.preventDefault(),D.scrollTop&&$("html, body").scrollTop(D.scrollTop),D.wLHN=window.location.hash;for(var b in D.hashs)-1===D.wLH.indexOf(b)&&-1!==D.wLHN.indexOf(b)?methods.open.call(D.hashs[b],null,a,!0):methods.close.call($(D.hashs[b].data("drop")).add(D.hashs[b].data("dropConfirmPromptAlert")),a,null,!0);D.wLH=D.wLHN})},_styleCreate:function(a){if($('[data-rel="'+a.tempClassS+'"]').remove(),!D.theme[a.theme])throw"Theme '"+a.theme+"' isn't available";var b=D.theme[a.theme],c=D.theme[a.theme].match(/.*,([^{]*)/gm);return c&&$.map(c,function(c){c=c.split("{")[0],b=b.replace(c,c.replace(/,(?!(\s*\[drop\])|(\s*\[\[))/g,", "+a.tempClassS+" "))}),$("<style>",{"data-rel":a.tempClassS,html:b.replace(/\}[^$](?!(\s*\[drop\])|(\s*\[\[))/g,"} "+a.tempClassS+" ").replace(/^(?!(\s*\[drop\])|(\s*\[\[))/,a.tempClassS+" ").replace(/\[\[(.*?)\]\]/g,"$1").replace(/\[drop\]/g,a.tempClassS).replace(/\s{2,}/g," ").replace(/url\((.*)\)/g,"url("+D.url+"images/"+a.theme+"/$1)")}).appendTo($("body"))},_disableScroll:function(a){D.enableScroll(),"center"!==a.place||a.scroll||D.disableScroll()},_setGallery:function(a){return a.rel&&a.href&&(D.gallery[a.rel]||(D.gallery[a.rel]=[]),-1===$.inArray(a.href,D.gallery[a.rel])&&a.href.match(D.regImg)&&D.gallery[a.rel].push(a.href),!D.galleryHashs[a.rel]&&a.hash&&(D.galleryHashs[a.rel]=[]),a.hash&&D.galleryHashs[a.rel].push(a.hash)),this},_errorM:function(a){return"string"===$.type(a)?a:a.message}};$.fn.drop=function(a){if(methods[a]){if(/_/.test(a))throw"Method "+a+" is private on $.drop";return methods[a].apply(this,Array.prototype.slice.call(arguments,1))}if("object"!==$.type(a)&&a)throw"Method "+a+" doesn't exist on $.drop";return methods.init.apply(this,arguments)},$.drop=function(a,b){b||(b={});var c;if(D.existsN(a))c={drop:a};else if("array"===$.type(a)||"string"===$.type(a)&&a.match(D.regImg))if("array"===$.type(a))if(a.length>1){if(b.rel=b.rel?b.rel:"rel"+ +new Date,D.galleryOpt[b.rel]||(D.galleryOpt[b.rel]={}),D.galleryOpt[b.rel].genOpt=$.extend({},b),D.gallery[b.rel]||(D.gallery[b.rel]=[]),a.map(function(a){if("string"===$.type(a)&&-1===$.inArray(a,D.gallery[b.rel]))D.gallery[b.rel].push(a);else{if("object"!==$.type(a)||!a.href||-1!==$.inArray(a.href,D.gallery[b.rel]))return;D.galleryOpt[b.rel][a.href.replace(D.reg,"")]=a,D.gallery[b.rel].push(a.href)}}),!D.gallery[b.rel][0])throw"Insufficient data";c={href:D.gallery[b.rel][0]}}else"object"===$.type(a[0])?c=a[0]:"string"===$.type(a[0])&&(c=a[0].match(D.regImg)?{href:a[0]}:{html:a[0]});else"string"===$.type(a)&&a.match(D.regImg)&&(c={href:a});else if("string"===$.type(a))c={html:a};else{if("object"!==$.type(a))throw"Insufficient data";c=a}return methods.open.call(null,$.extend(b,c),"API")},$.drop.nS="drop",$.drop.version="1.0",$.drop.dP={drop:null,html:null,href:null,hash:null,placeContent:".drop-content",placeHeader:".drop-header",placeFooter:".drop-footer",placePaste:".placePaste",header:null,footer:null,content:null,placeInherit:null,methodPlaceInherit:"html",filter:null,message:{success:function(a){return'<div class= "drop-msg"><div class="drop-success"><span class="drop-icon-notify"></span><div class="drop-text-el">'+a+"</div></div></div>"},warning:function(a){return'<div class= "drop-msg"><div class="drop-warning"><span class="drop-icon-notify"></span><div class="drop-text-el">'+a+"</div></div></div>"},error:function(a){return'<div class="drop-msg"><div class="drop-error"><span class="drop-icon-notify"></span><div class="drop-text-el">'+a+"</div></div></div>"},info:function(a){return'<div class="drop-msg"><div class="drop-info"><span class="drop-icon-notify"></span><div class="drop-text-el">'+a+"</div></div></div>"}},trigger:"click",triggerOn:null,triggerOff:null,effectOn:"fadeIn",effectOff:"fadeOut",place:"center",placement:"left bottom",overlay:!0,overlayColor:"#000",overlayOpacity:.6,position:"absolute",placeBeforeShow:null,placeAfterClose:null,start:null,before:null,after:null,close:null,closed:null,ok:null,pattern:'<div class="drop drop-simple"><button type="button" class="drop-close" data-closed><span class="drop-icon-close">&#215;</span></button><button class="drop-prev" type="button" style="display: none;"><i class="drop-icon-prev">&#60;</i></button><button class="drop-next" type="button" style="display: none;"><i class="drop-icon-next">&#62;</i></button><div class="drop-header"></div><div class="drop-content"><div class="inside-padd placePaste"></div></div><div class="drop-footer"></div></div>',patternConfirm:'<div class="drop drop-confirm"><button type="button" class="drop-close" data-closed><span class="drop-icon-close">&#215;</span></button><button class="drop-prev" type="button" style="display: none;"><i class="drop-icon-prev">&#60;</i></button><button class="drop-next" type="button" style="display: none;"><i class="drop-icon-next">&#62;</i></button><div class="drop-header">Confirm</div><div class="drop-content"><div class="inside-padd"><div class="placePaste"></div><div class="drop-group-btns"><button type="button" class="drop-button-confirm" data-button-confirm>ok</button><button type="button" class="drop-btn-cancel" data-closed>cancel</button></div></div></div><div class="drop-footer"></div></div>',patternPrompt:'<div class="drop drop-prompt"><button type="button" class="drop-close" data-closed><span class="drop-icon-close">&#215;</span></button><button class="drop-prev" type="button" style="display: none;"><i class="drop-icon-prev">&#60;</i></button><button class="drop-next" type="button" style="display: none;"><i class="drop-icon-next">&#62;</i></button><div class="drop-header">Prompt</div><div class="drop-content"><form class="inside-padd"><div class="placePaste"></div><input type="text" name="promptInput"/><div class="drop-group-btns"><button data-button-prompt type="submit" class="drop-button-prompt">ok</button><button type="button" data-closed class="drop-btn-cancel">cancel</button></div></form></div><div class="drop-footer"></div></div>',patternAlert:'<div class="drop drop-alert"><button type="button" class="drop-close" data-closed><span class="drop-icon-close">&#215;</span></button><button class="drop-prev" type="button" style="display: none;"><i class="drop-icon-prev">&#60;</i></button><button class="drop-next" type="button" style="display: none;"><i class="drop-icon-next">&#62;</i></button><div class="drop-header">Alert</div><div class="drop-content"><div class="inside-padd"><div class="placePaste"></div><div class="drop-group-btns"><button type="button" class="drop-button-alert" data-button-alert>ok</button></div></div></div><div class="drop-footer"></div></div>',confirmActionBtn:"[data-button-confirm]",promptActionBtn:"[data-button-prompt]",alertActionBtn:"[data-button-alert]",dataPrompt:null,promptInput:'[name="promptInput"]',promptInputValue:null,exit:"[data-closed]",next:".drop-next",prev:".drop-prev",autoPlay:!1,autoPlaySpeed:2e3,ajax:{type:"post"},jScrollPane:{animateScroll:!0,showArrows:!0},durationOn:300,durationOff:200,notifyclosetime:3e3,notify:!1,datas:null,handlerNotify:function(data,opt){if(data&&"string"===$.type(data)&&(data=eval("("+data+")")),data)text=data.answer&&data.data?opt.message&&opt.message[data.answer]?opt.message[data.answer](data.data):data.data:"Answer is empty";else var text="Object notify is empty";return $(opt.drop).find(opt.placePaste).empty().append(text),this},confirm:!1,confirmText:null,prompt:!1,promptText:null,alert:!1,alertText:null,always:!1,animate:!1,moreOne:!1,closeAll:!1,closeClick:!0,closeEsc:!0,closeActiveClick:!1,cycle:!0,scroll:!1,limitSize:!1,scrollContent:!0,centerOnScroll:!1,droppable:!1,droppableLimit:!1,droppableFixed:!1,inheritClose:!1,keyNavigate:!0,context:!1,theme:"default",type:"auto",width:null,height:null,rel:null,fullScreen:!0},$.drop.drp={handlerMessageWindow:function(a){$.drop(a.originalEvent.data)},theme:{"default":'*{margin: 0;padding: 0;}\n                    .drop-header{background-color: #f8f8f8;padding: 0 55px 0 12px;font-size: 14px;}\n                    input, select, textarea{margin-bottom: 6px;}\n                    input, select, textarea, .drop-content button{outline: none;font-family: Arial, "Helvetica CY", "Nimbus Sans L", sans-serif;line-height: 1.5;border: 1px solid #d8d8d8;padding: 4px 6px;}\n                    button{background-color: #fafafa;color: #666;cursor: pointer;}\n                    .drop-header.drop-no-empty, .drop-footer.drop-no-empty{padding-top: 6px;padding-bottom: 7px;}\n                    .drop-header.drop-no-empty{border-bottom: 1px solid #d8d8d8;}\n                    [drop].drop-is-scroll .drop-header.drop-empty{height: 28px;}\n                    .drop-footer.drop-no-empty{border-top: 1px solid #d8d8d8;}\n                    .drop-content{position: relative;z-index: 1;}\n                    .drop-content .inside-padd{padding: 12px 28px 12px 12px;}\n                    [[.drop-image .drop-content .inside-padd]], [[.drop-alert .drop-content .inside-padd]]{padding: 10px;}\n                    [[.drop-alert .drop-group-btns]]{text-align: center;}\n                    .drop-content button{margin-right: 4px;}\n                    button:focus, input:focus, select:focus, textarea:focus{outline: #b3b3b3 solid 1px;}\n                    .drop-footer{background-color: #d5d5d5;padding: 0 12px;}\n                    .drop-close, .drop-prev, .drop-next{outline: none;background: none;border: 0;cursor: pointer;vertical-align: middle;position: absolute;font-size: 0;padding: 0;line-height: 0;}\n                    .drop-prev, .drop-next{width: 35%;height: 100%;top: 0;z-index: 2;}\n                    .drop-prev:focus, .drop-next:focus{outline: none;}\n                    .drop-icon-prev, .drop-icon-next{width: 20px;height: 80px;line-height: 80px;}\n                    .drop-icon-prev, .drop-icon-next, .drop-icon-close{font-family: "Trebuchet MS", "Helvetica CY", sans-serif;font-size: 21px;color: #999;background-color: #fff;display: inline-block;text-align: center;//display: inline;zoom: 1;}\n                    .drop-icon-close{line-height: 19px;width: 19px;height: 19px;}\n                    .drop-close{right: 5px;top: 4px;z-index: 3;}\n                    .drop-next{right: 5px;text-align: right;}\n                    .drop-prev{left: 5px;text-align: left;}\n                    [drop].drop-is-scroll .drop-next{right: 16px;}\n                    .drop-icon-next{text-align: center;}\n                    .icon-times-drop{position: absolute;z-index:1;right:0;top: 0;cursor: pointer;width: 15px;height: 15px;}\n                    .nav{list-style: none;margin-left: 0;}\n                    .nav-vertical > li{display: block;border-top: 1px solid #ebebeb;padding: 8px 35px 8px 15px;}\n                    .nav-vertical > li > a{text-decoration: none;}\n                    .nav-vertical > li:first-child{border-top: 0;}\n                    .drop-msg > div{border-width: 1px;border-style: solid;padding: 10px;}\n                    .drop-success{background-color: #dff0d8;border-color: #d6e9c6;color: #3c763d;}\n                    .drop-warning{background-color: #fcf8e3;border-color: #faebcc;color: #8a6d3b;}\n                    .drop-error{background-color: #f2dede;border-color: #ebccd1;color: #a94442;}\n                    .drop-info{background-color: #d9edf7;border-color: #bce8f1;color: #31708f;}\n                    [[.drop-context .drop-content .inside-padd]]{padding: 0;}\n                    [drop]{max-width: 100%;font-family: Arial, "Helvetica CY", "Nimbus Sans L" sans-serif;font-size: 13px;color: #333;border: 1px solid #e4e4e4;background-color: #fff;}\n                    [drop] .placePaste img{max-width: 100%;}\n                    [drop].drop-is-scroll .placePaste img{max-width: none; max-height: none;width: auto;height: auto;}\n                    .jspContainer{overflow: hidden;position: relative;}\n                    .jspPane{position: absolute;}\n                    .jspVerticalBar{position: absolute;top: 0;right: 0;width: 16px;height: 100%;background: red;}\n                    .jspHorizontalBar{position: absolute;bottom: 0;left: 0;width: 100%;height: 16px;background: red;}\n                    .jspCap{display: none;}\n                    .jspHorizontalBar .jspCap{float: left;}\n                    .jspTrack{background: #f9f8f7;position: relative;}\n                    .jspDrag{background: #d5d5d5;position: relative;top: 0;left: 0;cursor: pointer;}\n                    .jspHorizontalBar .jspTrack,.jspHorizontalBar .jspDrag{float: left;height: 100%;}\n                    .jspArrow{background: #ccc;position: relative;display: block;cursor: pointer;padding: 0;margin: 0;line-height: 0;}\n                    .jspArrow.jspDisabled{cursor: default;background: #eee;}\n                    .jspVerticalBar .jspArrow{height: 16px;}\n                    .jspHorizontalBar .jspArrow{width: 16px;float: left;height: 100%;}\n                    .jspVerticalBar .jspArrow:focus{outline: none;}\n                    .jspCorner{background: #eeeef4;float: left;height: 100%;}\n                    .jspArrowUp:before, .jspArrowDown:before, .jspArrowLeft:before, .jspArrowRight:before{position: absolute;font-size: 10px;color: #777;width: 100%;height: 100%;text-align: center;line-height: 16px;}\n                    .jspArrowUp:before{content: "\\25b2";}\n                    .jspArrowDown:before{content: "\\25bc";}\n                    .jspArrowLeft:before{content: "\\25c4";}\n                    .jspArrowRight:before{content: "\\25ba";}\n                    [[#drop-loading div]]{background-image: url(drop.gif);}'},regImg:/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i,mainStyle:"#drop-loading {position: fixed;top: 50%;left: 50%;width: 40px;height: 40px;margin-top: -20px;margin-left: -20px;cursor: pointer;overflow: hidden;z-index: 11104;display: none;}\n                    #drop-loading div{position: absolute;top: 0;left: 0;width: 480px;height: 40px;}\n                    .drop{display: none;}.drop-overlay{display:none;position:absolute;width:100%;left:0;top:0;}",reg:/[^a-zA-Z0-9]+/gi,autoPlayInterval:{},hashs:{},drops:{},gallery:{},galleryOpt:{},galleryHashs:{},notifyTimeout:{},activeDropCEsc:{},activeDropCClick:{},isD:"isDrop",pC:"drop-",activeClass:"drop-active",aDS:"[data-elrun].drop-center:visible, [data-elrun].drop-global:visible",selAutoInit:"[data-drop], [data-html]",tempClass:"drop-temp",wasCreateClass:"drop-was-create",emptyClass:"drop-empty",noEmptyClass:"drop-no-empty",activeDrop:[],cOD:0,disableScroll:function(){if(D.isTouch)return!1;var a=this;return a.enableScroll(),wnd.add(doc).on("mousewheel.scr"+$.drop.nS,function(a){$(a.target).is("[data-elrun]")||D.existsN($(a.target).closest("[data-elrun]"))||a.preventDefault()}),D.scrollTop=wnd.scrollTop(),D.scrollLeft=wnd.scrollLeft(),wnd.on("scroll.scr"+$.drop.nS,function(){$("html, body").scrollTop(D.scrollTop).scrollLeft(D.scrollLeft)}),a},enableScroll:function(){return D.isTouch?!1:(wnd.off("scroll.scr"+$.drop.nS).add(doc).off("mousewheel.scr"+$.drop.nS),this)},isTouch:document.createTouch!==undefined,existsN:function(a){return a&&a.length>0&&a instanceof $},exists:function(a){return $(a).length>0&&$(a)instanceof $},url:$("[src$='drop.js']").attr("src")+"/../",requireLength:0,requireCur:0};var D=$.drop.drp,DP=$.drop.dP;$.fn[D.actual=$.fn.actual?"actual"+ +new Date:"actual"]=function(){if(arguments.length&&"string"===$.type(arguments[0])){var a=arguments[0],b=this.clone();arguments[1]===undefined&&b.css({position:"absolute",top:"-9999px",left:"-9999px"}).show().appendTo($("body"));var c=b[a]();return b.remove(),c}return undefined},$.drop.setParameters=function(a){return $.extend(DP,a),this},$.drop.setThemes=function(){for(var a=0;a<arguments.length;a++){var b={};arguments[a].file!==undefined?function(a,b){$.ajax({url:D.url+"styles/"+a.file,dataType:"text",cache:!0,success:function(c){b[a.name]=c,$.extend(D.theme,b)},error:function(){throw methods._errorM(arguments[2])}})}(arguments[a],b):(b[arguments[a].name]=arguments[a].text,$.extend(D.theme,b))}return this},$.drop.setMethod=function(a,b){var c={};return c[a]=b,$.extend(methods,c),this},$.drop.getMethods=function(){var a={};for(var b in methods)/_/.test(b)||(a[b]=methods[b]);return a},$.drop.close=function(a,b){return methods.close.call(a?$(a):null,"artificial close element","API",null,b)},$.drop.cancel=function(){return D.curAjax&&D.curAjax.abort(),D.curAjax=null,D.imgPreload&&(D.imgPreload.onload=D.imgPreload.onerror=null),$.drop.hideLoading(),this},$.drop.update=function(a){return $(a?a:"[data-elrun]."+D.activeClass).each(function(){methods.update.call($(this))})},$.drop.require=function(a,b){return function(a,b){"array"!==$.type(a)&&(a=a.split(",")),D.requireLength+=a.length;for(var c in a)methods.hasOwnProperty(a[c])||$.ajax({url:D.url+"methods/"+a[c]+".js",dataType:"script",cache:!0,success:function(){++D.requireCur===D.requireLength&&(b&&b.call($.drop,a),doc.trigger("dropRequire"))},error:function(){throw methods._errorM(arguments[2])}})}(a,b),this},doc.ready(function(){$("<style>",{html:D.mainStyle.replace(/\s{2,}/g," ").replace(/url\((.*)\)/g,"url("+D.url+"images/default/$1)")}).appendTo($("body")),D.scrollTop=wnd.scrollTop();var a,b=1,c=$("<div/>",{id:"drop-loading"}).append($("<div/>")).appendTo($("body")),d=function(){return c.is(":visible")?($("div",c).css("left",-40*b+"px"),void(b=(b+1)%12)):void clearInterval(a)};$.drop.showLoading=function(){return clearInterval(a),c.show(),a=setInterval(d,66),this},$.drop.hideLoading=function(){return c.hide(),this}}).on("keyup."+$.drop.nS,function(a){D.activeDrop[0]&&D.activeDropCEsc[D.activeDrop[0]]&&D.activeDropCEsc[D.activeDrop[0]](a)}).on("click."+$.drop.nS,function(a){D.activeDrop[0]&&D.activeDropCClick[D.activeDrop[0]]&&D.activeDropCClick[D.activeDrop[0]](a)}),wnd.on("load."+$.drop.nS,function(){setTimeout(function(){D.requireLength&&D.requireCur!==D.requireLength?doc.on("dropRequire."+$.drop.nS,function(){D.existsN($(D.selAutoInit).not("."+D.isD))&&$(D.selAutoInit).not("."+D.isD).drop()}):$(D.selAutoInit).not("."+D.isD).drop()},0)}).on("message."+$.drop.nS,D.handlerMessageWindow)}(jQuery,jQuery(window),jQuery(document)),jQuery.drop.setMethod("confirmPromptAlert",function(opt,hashChange,_confirmF,e,el,undefined){var self=this,$=jQuery;if(opt.alert){var optC=$.extend({},opt),drop=self._pasteDrop(optC,opt.patternAlert),pp=drop.find(opt.placePaste).empty();opt.alertText&&$.drop.drp.existsN(pp)&&pp.html(function(){try{if("function"===$.type(eval(opt.alertText)))return eval(opt.alertText).call($(this),opt,drop,el)}catch(e){return opt.alertText}}),self._show.call(el,drop,e,optC,hashChange),function(drop,_confirmF,opt){drop.find(opt.alertActionBtn).off("click."+$.drop.nS).on("click."+$.drop.nS,function(e){e.stopPropagation(),self.close.call(drop,e,_confirmF),opt.ok&&eval(opt.ok).call(el,opt,drop,e,"alert"),drop.trigger("dropOk",{type:"alert",event:e,anchor:el,drop:drop,options:opt,methods:self})})}(drop,_confirmF,opt)}else if(opt.confirm){var optC=$.extend({},opt),drop=self._pasteDrop(optC,opt.patternConfirm),pp=drop.find(opt.placePaste).empty();opt.confirmText&&$.drop.drp.existsN(pp)&&pp.html(function(){try{if("function"===$.type(eval(opt.confirmText)))return eval(opt.confirmText).call($(this),opt,drop,el)}catch(e){return opt.confirmText}}),self._show.call(el,drop,e,optC,hashChange),function(drop,_confirmF,opt){drop.find(opt.confirmActionBtn).off("click."+$.drop.nS).on("click."+$.drop.nS,function(e){e.stopPropagation(),self.close.call(drop,e,_confirmF),opt.ok&&eval(opt.ok).call(el,opt,drop,e,"confirm"),drop.trigger("dropOk",{type:"confirm",event:e,anchor:el,drop:drop,options:opt,methods:self})})}(drop,_confirmF,opt)}else if(opt.prompt){var optP=$.extend({},opt),drop=self._pasteDrop(optP,opt.patternPrompt),pp=drop.find(opt.placePaste).empty();opt.promptText&&$.drop.drp.existsN(pp)&&pp.html(function(){try{if("function"===$.type(eval(opt.promptText)))return eval(opt.promptText).call($(this),opt,drop,el)}catch(e){return opt.promptText}}),self._show.call(el,drop,e,optP,hashChange),function(drop,_confirmF,opt,optP){drop.find(opt.promptActionBtn).off("click."+$.drop.nS).on("click."+$.drop.nS,function(e){e.stopPropagation();var getUrlVars=function(a){for(var b,c={},d=a.slice(a.indexOf("?")+1).split("&"),e=0;e<d.length;e++)b=d[e].split("="),c[b[0]]=b[1];return c};optP.dataPrompt=opt.dataPrompt=getUrlVars($(this).closest("form").serialize()),self.close.call(drop,e,_confirmF),opt.ok&&eval(opt.ok).call(el,opt,drop,e,"prompt",opt.dataPrompt),drop.trigger("dropOk",{type:"prompt",dataPrompt:opt.dataPrompt,event:e,anchor:el,drop:drop,options:opt,methods:self})})}(drop,_confirmF,opt,optP)}return el.data("dropConfirmPromptAlert",drop),self}),jQuery.drop.setMethod("droppable",function(a,b){var c=jQuery,d=c(window),e=c(document);return(a||this).each(function(){var a=c(this);a.off("dropClose."+c.drop.nS).on("dropClose."+c.drop.nS,function(){c(this).off("mousedown."+c.drop.nS)}),a.find("img").off("dragstart."+c.drop.nS).on("dragstart."+c.drop.nS,function(a){a.preventDefault()}),d.off("scroll.droppable"+c.drop.nS),a.on("mousedown."+c.drop.nS,function(a){var b=c(this),f=b.data("drp");if(c(a.target).is(":input, button")||c.drop.drp.existsN(c(a.target).closest("button")))return!1;var b=c(this),g=b.outerWidth(),h=b.outerHeight(),i=d.width(),j=d.height();if((g>i||h>j)&&f.droppableLimit)return!1;e.on("mouseup."+c.drop.nS,function(a){b.css("cursor",""),e.off("selectstart."+c.drop.nS+" mousemove."+c.drop.nS+" mouseup."+c.drop.nS),f.droppableFixed&&(c.drop.drp.scrollTopD=d.scrollTop(),f.top=parseInt(b.css("top")),d.on("scroll.droppable"+c.drop.nS,function(a){var e=d.scrollTop(),g=f.top-c.drop.drp.scrollTopD+e;b.css("top",g),f.top=g,c.drop.drp.scrollTopD=e}))});var k=a.pageX-b.offset().left,l=a.pageY-b.offset().top;b.css("cursor","move"),e.off("selectstart."+c.drop.nS).on("selectstart."+c.drop.nS,function(a){a.preventDefault()}),e.off("mousemove."+c.drop.nS).on("mousemove."+c.drop.nS,function(a){a.preventDefault(),f.droppableIn=!0;var c=a.pageX-k,e=a.pageY-l;f.droppableLimit&&(c=0>c?0:c,e=0>e?0:e,c=c+g<i+d.scrollLeft()?c:i-g,e=e+h<j+d.scrollTop()?e:j-h+d.scrollTop(),c=c<d.scrollLeft()?d.scrollLeft():c,e=e<d.scrollTop()?d.scrollTop():e),b.css({left:c,top:e})})})})}),function(a,b){function c(){return(document.fullscreenElement&&null!==document.fullscreenElement||document.mozFullScreen||document.webkitIsFullScreen)&&window.innerHeight===screen.height}function d(a){if(a)a.call(this);else if("undefined"!=typeof window.ActiveXObject){var b=new ActiveXObject("WScript.Shell");null!==b&&b.SendKeys("{F11}")}}function e(b,c){var e=this,f=e.data("drp");f.isFullScreen=!1,e.css(a.drop.drp.standartScreenStyle),c||d.call(document,h),b._checkMethod(function(){b._heightContent(e)}),f.limitSize=f.oldLimitSize}function f(e,f){var j=this,k=j.data("drp");k.isFullScreen=!0,k.oldLimitSize=k.limitSize,k.limitSize=!0,a.drop.drp.standartScreenStyle={width:j.css("width"),height:j.css("height"),left:j.css("left"),top:j.css("top")},f||d.call(b,g),function(){var a=this;if(!c()){var b=arguments.callee;return void setTimeout(function(){b.call(a)},10)}a.css({width:"100%",height:"100%","box-sizing":"border-box",left:0,top:0}),e._checkMethod(function(){e._heightContent(a)})}.call(j),j.off("dropClose."+i).on("dropClose."+i,function(){d.call(document,h)})}var g=b.requestFullScreen||b.webkitRequestFullScreen||b.mozRequestFullScreen||b.msRequestFullscreen,h=document.cancelFullScreen||document.webkitCancelFullScreen||document.mozCancelFullScreen||document.msCancelFullscreen,i="fullScreen";a(document).off("dropBefore."+i).on("dropBefore."+i,function(b,d){var g=d.options;if(g.fullScreen){var h=d.drop,j=h.find(g.placeHeader).first();a.drop.drp.existsN(j)&&(j.off("click."+a.drop.nS).on("click."+a.drop.nS,function(b){a(document).on("mousedown."+i,function(a){a.preventDefault()})}),function(b,d){a(window).off("keyup."+i).on("keyup."+i,function(a){122===a.keyCode&&(d.data("drp").isFullScreen?e.call(d,b.methods):f.call(d,b.methods))}),j.off("click."+i).on("click."+i,function(c){a(document).off("mousedown."+i),d.data("drp").isFullScreen?e.call(d,b.methods):f.call(d,b.methods)}),a.drop.drp.isTouch&&a(document).off("webkitfullscreenchange."+i+" mozfullscreenchange."+i+" fullscreenchange."+i+" MSFullscreenChange."+i).on("webkitfullscreenchange."+i+" mozfullscreenchange."+i+" fullscreenchange."+i+" MSFullscreenChange."+i,function(){c()?f.call(d,b.methods,!0):e.call(d,b.methods,!0)})}(d,h))}})}(jQuery,document.body),function(a,b){var c=function(b,c,d){var e=this;return a("[data-elrun][data-rel"+(b?'="'+b+'"':"")+"]."+a.drop.drp.activeClass).each(function(){var b=a(this),f=b.data("drp");e.gallery(b,f,c,d)})};a.drop.setMethod("_cIGallery",function(a){var b=jQuery;clearInterval(b.drop.drp.autoPlayInterval[a]),delete b.drop.drp.autoPlayInterval[a]}),a.drop.setMethod("gallery",function(a,c,d,e){var f=jQuery,g=f(document),h=this,i=f.drop.drp.gallery[c.rel];if(!i)return h;var j=i.length;if(1>=j)return h;var k=f.inArray(c.href,i),l="string"===f.type(c.prev)?a.find(c.prev):c.prev,m="string"===f.type(c.next)?a.find(c.next):c.next;if(l.add(m).hide().attr("disabled","disabled"),-1===k)return!1;if(k===j-1&&0===k&&!c.cycle)return!1;k!==j-1&&m.show().removeAttr("disabled"),0!==k&&l.show().removeAttr("disabled"),c.cycle&&l.add(m).show().removeAttr("disabled");var n=function(a,b){if(!i[a])return k-=1,!1;var d=f('[data-href="'+i[a]+'"][rel="'+c.rel+'"], [href="'+i[a]+'"][rel="'+c.rel+'"]');h._cIGallery(c.rel),h.open.call(d,f.extend(f.extend({},c),d.data("drp"),{href:i[a],drop:null}),b)},o=function(a){return k+=a,c.cycle&&(k>=j&&(k=0),0>k&&(k=j-1)),k};return l.add(m).off("click."+f.drop.nS).on("click."+f.drop.nS,function(a){a.stopPropagation(),k=f.inArray(c.href,i),h._cIGallery(c.rel),n(o(f(this).is(l)?-1:1),a)}),e!==b&&null!==e&&k!==e&&i[e]&&n(e,null),d&&n(o(1===d?1:-1),null),null===e&&(c.autoPlay?(c.autoPlay=!1,h._cIGallery(c.rel)):c.autoPlay=!0),c.autoPlay&&(f.drop.drp.autoPlayInterval[c.rel]?h._cIGallery(c.rel):f.drop.drp.autoPlayInterval[c.rel]=setInterval(function(){h._cIGallery(c.rel),n(o(1))},c.autoPlaySpeed)),a.off("dropClose."+f.drop.nS).on("dropClose."+f.drop.nS,function(){h._cIGallery(f(this).data("drp").rel),g.off("keydown."+f.drop.nS+c.rel)}),c.keyNavigate&&a.off("dropAfter."+f.drop.nS).on("dropAfter."+f.drop.nS,function(){var a=f(this).data("drp");g.off("keydown."+f.drop.nS+a.rel).on("keydown."+f.drop.nS+a.rel,function(a){var b=a.keyCode;(37===b||39===b)&&a.preventDefault(),37===b&&n(o(-1),a),39===b&&n(o(1),a)})}),h}),a.drop.next=function(a){return c(a,1)},a.drop.prev=function(a){return c(a,-1)},a.drop.jumpto=function(a,b){return c(b,null,a)},a.drop.play=function(a){return c(a,null,null)}}(jQuery),jQuery.drop.setMethod("_heightContent",function(a,b){var c=this,d=jQuery,e=d(window);return(a||this).each(function(a){var f=d(this),g=f.data("drp");if("inherit"!==g.place&&g.limitSize){var h=f.is(":visible");if(h||f.show(),g.placeContent){var i=f.find(d(g.placeContent)).filter(":visible");i.data("jsp")&&i.data("jsp").destroy(),i=f.find(d(g.placeContent)).filter(":visible").css({height:""});var j=i.find(g.placePaste).css("height","");if(d.drop.drp.existsN(i)){var k=g.elrun,l=!1,m=i.css({overflow:""}).outerHeight();g.scrollContent?d.fn.jScrollPane?(l=i.jScrollPane(g.jScrollPane).data("jsp"),d.drop.drp.existsN(i.find(".jspPane"))&&(m=i.find(".jspPane").outerHeight())):i.css("overflow","auto"):i.css("overflow","hidden");var n,o=f.outerHeight(),p=f.height(),q=f.find(d(g.placeHeader)).outerHeight()+f.find(d(g.placeFooter)).outerHeight();if("global"===g.place){var r=0,s=g.placement;"object"===d.type(s)?(s.top!==b&&(r=s.bottom-e.scrollTop()-q-(o-p)),s.bottom!==b&&(r=e.height()-s.top+e.scrollTop()-q-(o-p))):(s.search(/top/)>=0&&(r=k.offset().top-e.scrollTop()-q-(o-p)),s.search(/bottom/)>=0&&(r=e.height()-k.offset().top+e.scrollTop()-q-(o-p)-k.outerHeight())),n=r>m?m:r}else n=m+q>p||g.isFullScreen?p-q:m;m>n&&g.scrollContent&&f.addClass(d.drop.drp.pC+"is-scroll"),i.css("height",n),g.scrollContent||i.find(g.placePaste).css("height",n-j.outerHeight()+j.height()),l&&l.reinitialise(),a!==!0&&(arguments.callee.call(f,!0),c._limit(f,g,!0))}}h||f.hide()}})}),jQuery.drop.setMethod("limitSize",function(a,b){var c=this,d=jQuery;return a.each(function(){var a=d(this).removeClass(d.drop.drp.pC+"is-limit-size"),b=a.data("drp");c._limit(a,b),c._checkMethod(function(){c._heightContent(a)})})}),jQuery.drop.setMethod("_limit",function(a,b,c,d){var e=$(window);if("image"===b.type)var f=a.find(b.placePaste).children("img").css({"max-width":"","max-height":""});if(b.limitSize&&"center"===b.place){if(a.css({width:"",height:""}),b.placeContent&&!c){var g=a.find($(b.placeContent)).filter(":visible").data("jsp");g&&g.destroy(),a.removeClass($.drop.drp.pC+"is-scroll").find(b.placeContent).add(a.find(b.placePaste)).filter(":visible").css("height","")}a.addClass($.drop.drp.pC+"is-limit-size"),"image"!==b.type||b.scrollContent||f.css({"max-width":"100%","max-height":"100%"});var h=e.width(),i=e.height(),j=a[$.drop.drp.actual]("outerWidth"),k=a[$.drop.drp.actual]("outerHeight"),l=a[$.drop.drp.actual]("width"),m=a[$.drop.drp.actual]("height");j>h&&a.css("width",h-j+l),k>i&&a.css("height",i-k+m)}}),function(a,b,c){a.drop.setMethod("placeAfterClose",function(c,e,f){if("inherit"===f.place||!f.placeAfterClose)return!1;if(d.call(a("body"),"y")||a("body").css("overflow-y","hidden"),d.call(a("body"),"x")||a("body").css("overflow-x","hidden"),!f)return this;var g=f.placeAfterClose.toLowerCase().split(" "),h=-c[a.drop.drp.actual]("outerHeight"),i=-c[a.drop.drp.actual]("outerWidth");return"bottom"===g[1]&&(h=b.height()),"right"===g[0]&&(i=b.width()),("center"===g[0]||"center"===g[1])&&("left"===g[0]&&(i=-c[a.drop.drp.actual]("outerWidth"),h=c.css("top")),"right"===g[0]&&(i=b.width(),h=c.css("top")),"top"===g[1]&&(h=-c[a.drop.drp.actual]("outerHeight"),i=c.css("left")),"bottom"===g[1]&&(h=b.height(),i=c.css("left"))),"center center"!==f.placeAfterClose&&("inherit"===g[0]?(h=e.offset().left,i=e.offset().top):(h+=b.scrollTop(),
i+=b.scrollLeft()),c.animate({left:i,top:h},{queue:!1,duration:f.durationOff})),this});var d=function(b){if(!a.drop.drp.existsN(this))return this;var c=this.get(0),d=c.clientWidth&&c.scrollWidth>c.clientWidth,e=c.clientHeight&&c.scrollHeight>c.clientHeight;return b?"x"===b?!("hidden"===c.style.overflowX)&&d:!("hidden"===c.style.overflowY)&&e:!(c.style.overflow&&"hidden"===c.style.overflow)&&(d||e)}}(jQuery,jQuery(window)),function(a,b,c){a.drop.setMethod("placeBeforeShow",function(c,e,f){var g=this;if("inherit"===f.place)return!1;d.call(a("body"),"y")||a("body").css("overflow-y","hidden"),d.call(a("body"),"x")||a("body").css("overflow-x","hidden");var h=f.placeBeforeShow.toLowerCase().split(" "),i=-c[a.drop.drp.actual]("outerHeight"),j=-c[a.drop.drp.actual]("outerWidth");return("center"===h[0]||"center"===h[1])&&(g._checkMethod(function(){g[f.place].call(c,!0)}),i=c.css("top"),j=c.css("left")),"bottom"===h[1]&&(i=b.height()),"right"===h[0]&&(j=b.width()),("center"===h[0]||"center"===h[1])&&("left"===h[0]&&(j=-c[a.drop.drp.actual]("outerWidth")),"right"===h[0]&&(j=b.width()),"top"===h[1]&&(i=-c[a.drop.drp.actual]("outerHeight")),"bottom"===h[1]&&(i=b.height())),c.css({left:j+b.scrollLeft(),top:i+b.scrollTop()}),"inherit"===h[0]&&c.css({left:e.offset().left,top:e.offset().top+e.outerHeight()}),this});var d=function(b){if(!a.drop.drp.existsN(this))return this;var c=this.get(0),d=c.clientWidth&&c.scrollWidth>c.clientWidth,e=c.clientHeight&&c.scrollHeight>c.clientHeight;return b?"x"===b?!("hidden"===c.style.overflowX)&&d:!("hidden"===c.style.overflowY)&&e:!(c.style.overflow&&"hidden"===c.style.overflow)&&(d||e)}}(jQuery,jQuery(window));