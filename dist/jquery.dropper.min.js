!function($,wnd,doc,undefined){var methods={init:function(a){var b=$.extend({},DP,a);if(!D.existsN(this))throw"The object isn't exists";return this.each(function(){var a=methods.destroy.call($(this)),c=$.extend({},b,a.data());a.data("drp",c);var d=$.trim(a.attr("href")||c.href);c.href=d&&0===d.indexOf("#")?null:d,c.hash=/#.+?$/.test(d)?d.match(/(#.+?$)/g)[0]:c.hash,c.rel=$.trim(this.rel||c.rel),methods._setGallery(c),a.addClass(D.isD),c.context?(a.on("contextmenu."+$.dropper.nS+" click."+$.dropper.nS,function(a){a.preventDefault()}),a.on("mouseup."+$.dropper.nS,function(a){a.preventDefault(),2===a.button&&methods.open.call($(this),null,a)})):c.triggerOn||c.triggerOff?a.on(c.triggerOn+"."+$.dropper.nS+" "+c.triggerOff+"."+$.dropper.nS,function(a){a.stopPropagation(),a.preventDefault()}).on(c.triggerOn+"."+$.dropper.nS,function(a){methods.open.call($(this),null,a)}).on(c.triggerOff+"."+$.dropper.nS,function(a){methods.close.call($($(this).attr("data-dropper")),a)}):a.on(c.trigger+"."+$.dropper.nS,function(a){methods.open.call($(this),null,a),a.stopPropagation(),a.preventDefault()}),/#.+/.test(c.hash)&&!D.hashs[c.hash]&&(D.hashs[c.hash]=a)}).each(function(){D.busy=!1,-1!==window.location.hash.indexOf($(this).data("drp").hash)&&methods.open.call($(this),$.extend({isStart:!0},b,$(this).data("drp")),"startHash")})},destroy:function(a){return(a||this).each(function(){var a=$(this),b=$(a).data("drp");a.removeClass(D.isD).removeData("drp"),b&&(b.trigger&&a.off(b.trigger+"."+$.dropper.nS),b.triggerOn&&a.off(b.triggerOn+"."+$.dropper.nS),b.triggerOff&&a.off(b.triggerOff+"."+$.dropper.nS),a.off("contextmenu."+$.dropper.nS).off("mouseup."+$.dropper.nS).off("click."+$.dropper.nS))})},_get:function(a,b,c){var d=a.href.replace(D.reg,"");a.isStart||$.dropper.cancel();var e=this,f=e.data(),g=function(f){if(f=f?f:"response is empty",a.droppern)var g=methods._pasteDropper(a,f);else g=methods._pasteDropper(a,a.pattern);return a.droppern||g.find($(a.placePaste)).html(f),g.addClass(D.pC+a.type),a.always||(D.droppers[d]=g.clone()),methods._show.call(e,g,b,a,c),g},h=function(){a.type=f.type="image";var b=D.imgPreload=new Image;b.onload=function(){$.dropper.hideLoading(),this.onload=this.onerror=null,g($(this))},b.onerror=function(){this.onload=this.onerror=null,$.dropper.hideLoading(),D.busy=!1,methods.open.call(null,{notify:!0,datas:{answer:"error",data:"image is not found"}},"errorImage")},b.src=a.href+(a.always?"?"+ +new Date:"")},i=function(){a.type=f.type="ajax",D.curAjax=$.ajax($.extend({url:a.href,dataType:a.ajax.dataType?a.ajax.dataType:a.notify?"json":"html",success:function(d){$.dropper.hideLoading(),a.notify?methods._pasteNotify.call(e,d,a,c,b):g(d)},error:function(){$.dropper.hideLoading(),D.busy=!1,methods.open.call(null,{notify:!0,datas:{answer:"error",data:methods._errorM(arguments[2])}},"errorAjax")}},a.ajax))},j=function(){a.type=f.type="iframe";var b=$('<iframe name="dropper-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(navigator.userAgent.match(/msie/i)?' allowtransparency="true"':"")+"></iframe>");b.one("load."+$.dropper.nS,function(){$.dropper.hideLoading()}),g(b)};if($.dropper.showLoading(),"auto"===a.type)a.href.match(D.regImg)?h():i();else switch(a.type){case"image":h();break;case"iframe":j();break;default:i()}return e},open:function(opt,e,hashChange){function _show(){$this.is(":disabled")||opt.dropper&&opt.start&&!eval(opt.start).call($this,opt,dropper,e)||(opt.prompt||opt.confirm||opt.alert?(elSet.droppern=elSet.dropper,opt.dropper=opt.tempClassS,opt.style=methods._styleCreate(opt),methods._checkMethod(function(){methods.confirmPromptAlert(opt,hashChange,_confirmF,e,$this)})):_confirmF())}if(D.busy)return!1;D.busy=!0;var $this=D.existsN(this)?this:$([]),elSet=D.existsN($this)?$this.data():{};opt=$.extend({},DP,elSet&&elSet.drp?elSet.drp:{},opt),e=e?e:window.event,elSet.dropperConfirmPromptAlert&&methods.close.call(elSet.dropperConfirmPromptAlert,"element already open",null,null,!0);var dropper=$(elSet.dropper);if(opt.closeActiveClick&&D.existsN(dropper)&&$this.hasClass(D.activeClass))return methods.close.call(dropper,"element already open"),$this;(elSet.dropper||opt.dropper&&D.existsN(opt.dropper)&&opt.dropper.hasClass(D.activeClass))&&methods.close.call(dropper,"element already open",null,null,!0),elSet.tempClass&&!elSet.droppern&&(elSet.dropper=opt.dropper=null),opt.tempClass=elSet.tempClass="dropper-"+ +new Date,opt.tempClassS="."+opt.tempClass,(elSet||D.existsN(opt.dropper))&&(elSet.droppern=opt.dropper),$.extend(opt,elSet);var href=$this.attr("href")||opt.href;opt.href=href&&0===$.trim(href).indexOf("#")?null:href;var hrefC=opt.href?opt.href.replace(D.reg,""):null,rel=$this.attr("rel")||opt.rel;opt.hash=/#.+?$/.test(href)?href.match(/(#.+?$)/g)[0]:opt.hash,rel&&D.gallery[rel]&&(opt.rel=rel),opt.rel&&D.galleryOpt[opt.rel]&&$.extend(opt,D.galleryOpt[opt.rel].genOpt,D.galleryOpt[opt.rel][hrefC]),methods._setGallery(opt),opt.href&&opt.always&&(opt.dropper=elSet.droppern?elSet.droppern:null),opt.dropper=opt.dropper&&"string"===$.type(opt.dropper)?opt.dropper:opt.tempClassS,(!D.existsN($this)||elSet.dropperId!==undefined&&!D.exists('[data-dropper-id="'+elSet.dropperId+'"]'))&&($this=$('<a data-dropper-id="'+D.cOD+'" style="display: none !important;" data-dropper="'+opt.dropper+'" class="'+D.tempClass+'" href="'+(opt.href?opt.href:"#")+'" rel="'+(opt.rel?opt.rel:null)+'"></a>').appendTo($("body"))),opt.context&&($.extend(opt,{place:"global",limitSize:!0,overlay:!1}),e&&e.pageX>=0?opt.placement={left:parseInt(e.pageX),top:parseInt(e.pageY)}:opt.placement={left:$this.offset().left,top:$this.offset().top}),opt.elrun=$this,opt.filter&&($this.hasClass("dropper-filter")?(opt.tempClassS=elSet.droppern=opt.dropper,opt.tempClass=null):(methods._filterSource.call($this,opt.filter).addClass(opt.tempClass),elSet.droppern=opt.dropper=opt.tempClassS,$this.addClass("dropper-filter"))),$this.attr("data-dropper",opt.dropper).data("dropper",opt.dropper),dropper=$(elSet.droppern);var _confirmF=function(){if(opt.style=methods._styleCreate(opt),opt.notify&&opt.datas)methods._pasteNotify.call($this,opt.datas,opt,hashChange,e);else if(opt.filter)methods._show.call($this,methods._pasteDropper(opt,dropper.addClass(D.wasCreateClass)),e,opt,hashChange);else if(opt.html)dropper=methods._pasteDropper(opt,opt.pattern),dropper.find($(opt.placePaste)).html(opt.html),methods._show.call($this,dropper,e,opt,hashChange);else if(!opt.href||D.droppers[hrefC]&&!opt.always)if(D.existsN(dropper)||opt.href&&D.droppers[hrefC])methods._show.call($this,methods._pasteDropper(opt,D.existsN(dropper)?dropper.addClass(D.wasCreateClass):D.droppers[hrefC].clone()),e,opt,hashChange);else{if(!(opt.header||opt.content||opt.footer))throw"Insufficient data";methods._show.call($this,methods._pasteDropper(opt,opt.pattern),e,opt,hashChange)}else methods._get.call($this,opt,e,hashChange)};return!opt.moreOne&&D.exists(D.aDS)?methods.close.call($(D.aDS),"close more one element",_show):_show(),this},_show:function(dropper,e,opt,hashChange){function _show(){if(!D.existsN(dropper))return!1;e=e?e:window.event;var $this=this;opt.overlay&&(D.exists('[data-rel="'+opt.tempClassS+'"].dropper-overlay')||$("body").append($("<div/>",{"class":"dropper-overlay","data-rel":opt.tempClassS})),opt.dropperOver=$('[data-rel="'+opt.tempClassS+'"].dropper-overlay').css({"background-color":opt.overlayColor,opacity:opt.overlayOpacity,"z-index":1103+D.cOD})),dropper.data("drp",opt).attr("data-rel",opt.rel).css("z-index",1104+D.cOD).attr("data-elrun",opt.dropper).addClass(D.pC+opt.place).addClass(opt.addClass),opt.context&&dropper.addClass(D.pC+"context"),opt.notify&&dropper.addClass(D.pC+"notify"),opt.rel&&methods._checkMethod(function(){methods.gallery(dropper,opt)}),methods._setHeightAddons(opt.dropperOver),methods._pasteContent($this,dropper,opt),methods._positionType(dropper);var ev=opt.dropper?opt.dropper.replace(D.reg,""):"";if(opt.hash&&!hashChange){D.scrollTop=wnd.scrollTop();var wLH=window.location.hash;wnd.off("hashchange."+$.dropper.nS),-1!==opt.hash.indexOf("#")&&null===new RegExp(opt.hash+"#|"+opt.hash+"$").exec(wLH)&&(window.location.hash=wLH+opt.hash),wnd.scrollTop(D.scrollTop),setTimeout(methods._setEventHash,0)}if(wnd.off("resize."+$.dropper.nS+ev).on("resize."+$.dropper.nS+ev,function(){methods.update.call(dropper)}).off("scroll."+$.dropper.nS+ev).on("scroll."+$.dropper.nS+ev,function(){"center"===opt.place&&opt.centerOnScroll&&methods["_"+opt.place].call(dropper)}),$(opt.dropperOver).fadeIn(100).off("click."+$.dropper.nS+ev).on("click."+$.dropper.nS+ev,function(a){a.stopPropagation(),opt.closeClick&&$(a.target).is(".dropper-overlay")&&methods.close.call($($(a.target).attr("data-rel")),a)}),opt.alert||opt.confirm||opt.prompt){var elFocus;opt.alert?elFocus=opt.alertActionBtn:opt.confirm?elFocus=opt.confirmActionBtn:opt.prompt&&(elFocus=opt.promptInput),elFocus=dropper.find(elFocus),opt.prompt&&(elFocus.val(opt.promptInputValue),dropper.find("form").off("submit."+$.dropper.nS+ev).on("submit."+$.dropper.nS+ev,function(a){a.preventDefault()}));var focusFunc=function(){elFocus.focus()};setTimeout(focusFunc,0)}opt.exit="string"===$.type(opt.exit)?dropper.find(opt.exit):opt.exit,D.existsN(opt.exit)&&opt.exit.off("click."+$.dropper.nS).on("click."+$.dropper.nS,function(a){a.stopPropagation(),methods.close.call($(this).closest("[data-elrun]"),a)}),opt.context&&dropper.add(opt.dropperOver).off("contextmenu."+$.dropper.nS).on("contextmenu."+$.dropper.nS,function(a){a.preventDefault()});var dropperWH="iframe"===opt.type?dropper.find("iframe"):dropper;opt.width&&dropperWH.css("width",opt.width),opt.height&&dropperWH.css("height",opt.height),$("html, body").css({height:"100%"}),opt.limitSize&&methods._checkMethod(function(){methods.limitSize(dropper)}),opt.placeBeforeShow&&methods._checkMethod(function(){methods.placeBeforeShow(dropper,$this,opt)}),"inherit"!==opt.place&&methods["_"+opt.place].call(dropper),opt.before&&eval(opt.before).call($this,opt,dropper,e),dropper.trigger("dropperBefore",{event:e,anchor:$this,dropper:dropper,options:opt,methods:methods}),methods._disableScroll(opt),$(".dropper-overlay."+D.pC+"for-remove").stop().remove(),dropper[opt.effectOn](opt.durationOn,function(){D.cOD++,D.busy=!1;var dropper=$(this);"iframe"===opt.type&&dropperWH.attr("src",opt.href),$("html, body").css({overflow:"","overflow-x":""}),methods._setHeightAddons(opt.dropperOver);var inDropper="iframe"===opt.type?dropper.find("iframe").contents().find(D.selAutoInit):dropper.find(D.selAutoInit);D.existsN(inDropper)&&methods.init.call(inDropper),dropper.add($this).addClass(D.activeClass),D.activeDropper.unshift(opt.dropper);var _decoratorClose=function(a,b){("inherit"!==opt.place||opt.inheritClose)&&b&&methods.close.call(opt.closeAll&&D.activeDropper.length?null:$(D.activeDropper[0]),a)};D.activeDropperCEsc[opt.dropper]=function(a){_decoratorClose(a,opt.closeEsc&&27===a.keyCode)},D.activeDropperCClick[opt.dropper]=function(a){_decoratorClose(a,!D.existsN($(a.target).closest("[data-elrun]")))},opt.notify&&!isNaN(opt.notifyclosetime)&&(D.notifyTimeout[opt.dropper]=setTimeout(function(){methods.close.call(dropper,"close notify setTimeout")},opt.notifyclosetime)),opt.droppable&&"inherit"!==opt.place&&methods.droppable(dropper),opt.after&&eval(opt.after).call($this,opt,dropper,e),dropper.trigger("dropperAfter",{event:e,anchor:$this,dropper:dropper,options:opt,methods:methods})})}return!opt.moreOne&&D.exists(D.aDS)?methods.close.call($(D.aDS),"close more one element",$.proxy(_show,this)):_show.call(this),this},close:function(e,f,hashChange,force){var sel=this,droppers=D.existsN(sel)?sel:$("[data-elrun]."+D.activeClass),closeLength=droppers.length;return droppers.each(function(i){var dropper=$(this),opt=$.extend({},dropper.data("drp"));if(!(!dropper.data("drp")||hashChange&&opt.hash&&-1!==window.location.hash.indexOf(opt.hash))){var _hide=function(){opt.notify&&D.notifyTimeout[opt.dropper]&&(clearTimeout(D.notifyTimeout[opt.dropper]),delete D.notifyTimeout[opt.dropper]),D.enableScroll(),"iframe"===opt.type&&dropper.find("iframe").removeAttr("src");var ev=opt.dropper?opt.dropper.replace(D.reg,""):"";wnd.off("resize."+$.dropper.nS+ev).off("scroll."+$.dropper.nS+ev),D.activeDropper.splice($.inArray(opt.dropper,D.activeDropper),1),delete D.activeDropperCEsc[opt.dropper],delete D.activeDropperCClick[opt.dropper],D.activeDropper[0]&&$(D.activeDropper[0]).data("drp")&&methods._disableScroll($(D.activeDropper[0]).data("drp")),dropper.add(opt.elrun).removeClass(D.activeClass),opt.hash&&!hashChange&&(D.scrollTop=wnd.scrollTop(),wnd.off("hashchange."+$.dropper.nS),window.location.hash=window.location.hash.replace(new RegExp(opt.hash+"($|\b)","ig"),"").replace(new RegExp(opt.hash+"#","ig"),"#"),wnd.scrollTop(D.scrollTop),setTimeout(methods._setEventHash,0)),opt.placeAfterClose&&methods._checkMethod(function(){methods.placeAfterClose(dropper,opt.elrun,opt)}),dropper[opt.effectOff](force?0:opt.durationOff,function(){D.busy=!1,opt.style.remove(),$("html, body").css({overflow:"","overflow-x":""});var $this=$(this);methods._resetStyleDropper.call($(this)),$this.removeClass(D.pC+opt.place+" "+D.pC+opt.type+" "+D.pC+"context "+D.pC+"notify "+opt.addClass),opt.closed&&eval(opt.closed).call(opt.elrun,opt,$this,e),$this.trigger("dropperClosed",{event:e,anchor:opt.elrun,dropper:$this,options:opt,methods:methods});var dC=$this.find($(opt.placeContent)).data("jsp");dC&&dC.destroy(),D.exists(D.aDS)||$("html, body").css({height:""}),opt.filter||$this.removeClass(opt.tempClass),opt.elrun.data("droppern")||opt.elrun.data("dropper",null),opt.elrun.hasClass(D.tempClass)&&opt.elrun.remove(),$this.data("drp",null),$this.hasClass(D.wasCreateClass)||$this.remove();var condCallback=i===closeLength-1&&$.isFunction(f);opt.dropperOver?(opt.dropperOver.addClass(D.pC+"for-remove").fadeOut(force?0:opt.durationOff,function(){$(this).remove()}),condCallback&&setTimeout(f,force?0:opt.durationOff+100)):condCallback&&f()})};if(dropper.trigger("dropperClose",{event:e,anchor:opt.elrun,dropper:dropper,options:opt,methods:methods}),opt.close){var res=eval(opt.close).call(opt.elrun,opt,dropper,e);if(res===!1&&res!==!0)throw res;_hide()}else _hide()}}),sel},update:function(){var a=this,b=a.data("drp");return b?b.isFullScreen?!1:(b.limitSize&&methods._checkMethod(function(){methods.limitSize(a)}),"inherit"!==b.place&&methods._checkMethod(function(){methods["_"+b.place].call(a)},b.place),void methods._setHeightAddons(b.dropperOver)):!1},_center:function(){return this.each(function(){var a=$(this),b=a.data("drp");if(!b)return!1;var c=b.animate||b.placeBeforeShow?"animate":"css",d=a.is(":visible"),e=d?a.outerWidth():a[D.actual]("outerWidth"),f=d?a.outerHeight():a[D.actual]("outerHeight"),g=wnd.scrollTop(),h=wnd.scrollLeft(),i=Math.floor((wnd.height()-f)/2),j=Math.floor((wnd.width()-e)/2);i=i>0?i+g:g,j=j>0?j+h:h,a[c]({top:i,left:j},{duration:b.durationOn,queue:!1})})},_global:function(){return this.each(function(){var a=$(this),b=a.data("drp");if(!b&&b.droppableIn)return!1;var c=b.animate||b.placeBeforeShow?"animate":"css",d=b.elrun,e=0,f=0,g=d.width(),h=d.height(),i=+a[D.actual]("outerWidth"),j=+a[D.actual]("outerHeight"),k=wnd.scrollTop(),l=wnd.scrollLeft(),m=d.offset().top,n=d.offset().left,o=0,p=0;if(a.is(":visible")||a.css({top:"auto",bottom:"auto",left:"auto",right:"auto"}),"object"===$.type(b.placement)){var q=b.placement;b.context||(q.top!==undefined&&(q.top=q.top+k),q.left!==undefined&&(q.left=q.left+l),q.bottom!==undefined&&(q.bottom=q.bottom-k),q.right!==undefined&&(q.right=q.right-l)),a[c](q,{duration:b.durationOn,queue:!1})}else{var r=b.placement.toLowerCase().split(" ");"top"===r[1]&&(e=-j),"bottom"===r[1]&&(e=h),"left"===r[0]&&(f=0),"right"===r[0]&&(f=-i+g),"center"===r[0]&&(f=-i/2+g/2),"center"===r[1]&&(e=-j/2+h/2),o=m+e,p=n+f,0>p&&(p=0),a[c]({top:o,left:p},{duration:b.durationOn,queue:!1})}})},_resetStyleDropper:function(){return this.stop().css({"z-index":"",top:"",left:"",bottom:"",right:"",position:"","box-sizing":""})},_pasteNotify:function(a,b,c,d){if(!$.isFunction(b.handlerNotify))return!1;var e=methods._pasteDropper(b,b.pattern);return b.handlerNotify.call($(this),a,b),methods._show.call($(this),e,d,b,c)},_pasteDropper:function(a,b){return b=$(b),a.droppern&&(b=D.existsN(b.filter(a.dropper))?b.filter(a.dropper):D.existsN(b.find(a.dropper))?b.find(a.dropper):b),"inherit"!==a.place?b.appendTo($("body")):a.placeInherit&&$(a.placeInherit)[a.methodPlaceInherit](b),b.hide().addClass(a.tempClass).addClass("dropper").attr("data-elrun",a.dropper)},_pasteContent:function($this,dropper,opt){var _checkCont=function(a){a.is(":empty")?a.removeClass(D.noEmptyClass).addClass(D.emptyClass):a.addClass(D.noEmptyClass).removeClass(D.emptyClass)},_pasteContent=function(content,place){return place=dropper.find(place).first(),D.existsN(place)?(_checkCont(place),content?void _checkCont(place.empty().html(function(){try{return"function"===$.type(eval(content))?eval(content).call(place,opt,dropper,$this):content}catch(e){return content}})):!1):!1};return _pasteContent(opt.header,opt.placeHeader),_pasteContent(opt.content,opt.placePaste),_pasteContent(opt.footer,opt.placeFooter),this},_setHeightAddons:function(a){$(a).css({width:"",height:""}).css({width:wnd.width(),height:doc.height()})},_checkMethod:function(a){try{a()}catch(b){var c=a.toString().match(/\.\S*\(/);throw'Need connected "'+c[0].substring(1,c[0].length-1)+'" method'}return this},_positionType:function(a){return a.data("drp")&&"inherit"!==a.data("drp").place&&a.css({position:a.data("drp").position}),this},_filterSource:function(a){var b,c=this,d=a.split(")."),e="";return $.map(d,function(a){b=(")"!==a[a.length-1]?a+")":a).match(/\(.*\)/),e=b.input.replace(b[0],""),b=b[0].substring(1,b[0].length-1),c=c[e](b)}),c},_setEventHash:function(){D.wLH=window.location.hash,wnd.off("hashchange."+$.dropper.nS).on("hashchange."+$.dropper.nS,function(a){a.preventDefault(),D.scrollTop&&$("html, body").scrollTop(D.scrollTop),D.wLHN=window.location.hash;for(var b in D.hashs)-1===D.wLH.indexOf(b)&&-1!==D.wLHN.indexOf(b)?methods.open.call(D.hashs[b],null,a,!0):methods.close.call($(D.hashs[b].data("dropper")).add(D.hashs[b].data("dropperConfirmPromptAlert")),a,null,!0);D.wLH=D.wLHN})},_styleCreate:function(a){if($('[data-rel="'+a.tempClassS+'"]').remove(),!D.theme[a.theme])throw"Theme '"+a.theme+"' isn't available";var b=D.theme[a.theme],c=D.theme[a.theme].match(/.*,([^{]*)/gm);return c&&$.map(c,function(c){c=c.split("{")[0],b=b.replace(c,c.replace(/,(?!\s*\[dropper\])/g,", "+a.tempClassS+" "))}),$("<style>",{"data-rel":a.tempClassS,html:b.replace(/\s\s+/g," ").replace(/\}[^$\*](?!\s*(\[dropper\]|\{\s*\/\*))/g,"} "+a.tempClassS+" ").replace(/\{\s*\/\*(.*?)\*\/\s*\}/g,"$1").replace(/^(?!\s*\[dropper\])/,a.tempClassS+" ").replace(/\[dropper\]/g,a.tempClassS).replace(/url\((.*)\)/g,"url("+D.url+"images/"+a.theme+"/$1)")}).appendTo($("body"))},_disableScroll:function(a){D.enableScroll(),"center"!==a.place||a.scroll||D.disableScroll()},_setGallery:function(a){return a.rel&&a.href&&(D.gallery[a.rel]||(D.gallery[a.rel]=[]),-1===$.inArray(a.href,D.gallery[a.rel])&&D.gallery[a.rel].push(a.href),!D.galleryHashs[a.rel]&&a.hash&&(D.galleryHashs[a.rel]=[]),a.hash&&D.galleryHashs[a.rel].push(a.hash)),this},_errorM:function(a){return"string"===$.type(a)?a:a.message}};$.fn.dropper=function(a){if(methods[a]){if(/_/.test(a))throw"Method "+a+" is private on $.dropper";return methods[a].apply(this,Array.prototype.slice.call(arguments,1))}if("object"!==$.type(a)&&a)throw"Method "+a+" doesn't exist on $.dropper";return methods.init.apply(this,arguments)},$.dropper=function(a,b){b||(b={});var c;if(D.existsN(a))c={dropper:a};else if("array"===$.type(a)||"string"===$.type(a)&&a.match(D.regImg))if("array"===$.type(a))if(a.length>1){if(b.rel=b.rel?b.rel:"rel"+ +new Date,D.galleryOpt[b.rel]||(D.galleryOpt[b.rel]={}),D.galleryOpt[b.rel].genOpt=$.extend({},b),D.gallery[b.rel]||(D.gallery[b.rel]=[]),a.map(function(a){if("string"===$.type(a)&&-1===$.inArray(a,D.gallery[b.rel]))D.gallery[b.rel].push(a);else{if("object"!==$.type(a)||!a.href||-1!==$.inArray(a.href,D.gallery[b.rel]))return;D.galleryOpt[b.rel][a.href.replace(D.reg,"")]=a,D.gallery[b.rel].push(a.href)}}),!D.gallery[b.rel][0])throw"Insufficient data";c={href:D.gallery[b.rel][0]}}else"object"===$.type(a[0])?c=a[0]:"string"===$.type(a[0])&&(c=a[0].match(D.regImg)?{href:a[0]}:{html:a[0]});else"string"===$.type(a)&&a.match(D.regImg)&&(c={href:a});else if("string"===$.type(a))c={html:a};else{if("object"!==$.type(a))throw"Insufficient data";c=a}return methods.open.call(null,$.extend(b,c),"API")},$.dropper.nS="dropper",$.dropper.version="1.0",$.dropper.dP={dropper:null,html:null,addClas:null,href:null,hash:null,placeContent:".dropper-content",placeHeader:".dropper-header",placeFooter:".dropper-footer",placePaste:".placePaste",header:null,footer:null,content:null,placeInherit:null,methodPlaceInherit:"html",filter:null,message:{success:function(a){return'<div class= "dropper-msg"><div class="dropper-success"><span class="dropper-icon-notify"></span><div class="dropper-text-el">'+a+"</div></div></div>"},warning:function(a){return'<div class= "dropper-msg"><div class="dropper-warning"><span class="dropper-icon-notify"></span><div class="dropper-text-el">'+a+"</div></div></div>"},error:function(a){return'<div class="dropper-msg"><div class="dropper-error"><span class="dropper-icon-notify"></span><div class="dropper-text-el">'+a+"</div></div></div>"},info:function(a){return'<div class="dropper-msg"><div class="dropper-info"><span class="dropper-icon-notify"></span><div class="dropper-text-el">'+a+"</div></div></div>"}},trigger:"click",triggerOn:null,triggerOff:null,effectOn:"fadeIn",effectOff:"fadeOut",place:"center",placement:"left bottom",overlay:!0,overlayColor:"#000",overlayOpacity:.6,position:"absolute",placeBeforeShow:null,placeAfterClose:null,start:null,before:null,after:null,close:null,closed:null,ok:null,pattern:'<div class="dropper dropper-simple"><button type="button" class="dropper-close" data-closed><span class="dropper-icon-close">&#215;</span></button><button class="dropper-prev" type="button" style="display: none;"><i class="dropper-icon-prev">&#60;</i></button><button class="dropper-next" type="button" style="display: none;"><i class="dropper-icon-next">&#62;</i></button><div class="dropper-header"></div><div class="dropper-content"><div class="inside-padd placePaste"></div></div><div class="dropper-footer"></div></div>',patternConfirm:'<div class="dropper dropper-confirm"><button type="button" class="dropper-close" data-closed><span class="dropper-icon-close">&#215;</span></button><button class="dropper-prev" type="button" style="display: none;"><i class="dropper-icon-prev">&#60;</i></button><button class="dropper-next" type="button" style="display: none;"><i class="dropper-icon-next">&#62;</i></button><div class="dropper-header">Confirm</div><div class="dropper-content"><div class="inside-padd"><div class="placePaste"></div><div class="dropper-group-btns"><button type="button" class="dropper-button-confirm" data-button-confirm>ok</button><button type="button" class="dropper-btn-cancel" data-closed>cancel</button></div></div></div><div class="dropper-footer"></div></div>',patternPrompt:'<div class="dropper dropper-prompt"><button type="button" class="dropper-close" data-closed><span class="dropper-icon-close">&#215;</span></button><button class="dropper-prev" type="button" style="display: none;"><i class="dropper-icon-prev">&#60;</i></button><button class="dropper-next" type="button" style="display: none;"><i class="dropper-icon-next">&#62;</i></button><div class="dropper-header">Prompt</div><div class="dropper-content"><form class="inside-padd"><div class="placePaste"></div><input type="text" name="promptInput"/><div class="dropper-group-btns"><button data-button-prompt type="submit" class="dropper-button-prompt">ok</button><button type="button" data-closed class="dropper-btn-cancel">cancel</button></div></form></div><div class="dropper-footer"></div></div>',patternAlert:'<div class="dropper dropper-alert"><button type="button" class="dropper-close" data-closed><span class="dropper-icon-close">&#215;</span></button><button class="dropper-prev" type="button" style="display: none;"><i class="dropper-icon-prev">&#60;</i></button><button class="dropper-next" type="button" style="display: none;"><i class="dropper-icon-next">&#62;</i></button><div class="dropper-header">Alert</div><div class="dropper-content"><div class="inside-padd"><div class="placePaste"></div><div class="dropper-group-btns"><button type="button" class="dropper-button-alert" data-button-alert>ok</button></div></div></div><div class="dropper-footer"></div></div>',confirmActionBtn:"[data-button-confirm]",promptActionBtn:"[data-button-prompt]",alertActionBtn:"[data-button-alert]",dataPrompt:null,promptInput:'[name="promptInput"]',promptInputValue:null,exit:"[data-closed]",next:".dropper-next",prev:".dropper-prev",autoPlay:!1,autoPlaySpeed:2e3,ajax:{type:"post"},jScrollPane:{animateScroll:!0,showArrows:!0},durationOn:300,durationOff:200,notifyclosetime:3e3,notify:!1,datas:null,handlerNotify:function(data,opt){if(data&&"string"===$.type(data)&&(data=eval("("+data+")")),data)text=data.answer&&data.data?opt.message&&opt.message[data.answer]?opt.message[data.answer](data.data):data.data:"Answer is empty";else var text="Object notify is empty";return $(opt.dropper).find(opt.placePaste).empty().append(text),this},confirm:!1,confirmText:null,prompt:!1,promptText:null,alert:!1,alertText:null,always:!1,animate:!1,moreOne:!1,closeAll:!1,closeClick:!0,closeEsc:!0,closeActiveClick:!1,cycle:!0,scroll:!1,limitSize:!1,scrollContent:!0,centerOnScroll:!1,droppable:!1,droppableLimit:!1,droppableFixed:!1,inheritClose:!1,keyNavigate:!0,context:!1,theme:"default",type:"auto",width:null,height:null,rel:null,fullScreen:!0},$.dropper.drp={handlerMessageWindow:function(a){return"object"===$.type(a.originalEvent.data)?$.dropper(a.originalEvent.data):void 0},theme:{"default":'*{margin: 0;padding: 0;-webkit-box-sizing: content-box;-moz-box-sizing: content-box;box-sizing: content-box;}\n                    .dropper-header{background-color: #f8f8f8;padding: 0 55px 0 12px;font-size: 14px;}\n                    input, select, textarea{margin-bottom: 6px;}\n                    input, select, textarea, .dropper-content button{outline: none;font-family: Arial, "Helvetica CY", "Nimbus Sans L", sans-serif;line-height: 1.5;border: 1px solid #d8d8d8;padding: 4px 6px;}\n                    button{background-color: #fafafa;color: #666;cursor: pointer;}\n                    .dropper-header.dropper-no-empty, .dropper-footer.dropper-no-empty{padding-top: 6px;padding-bottom: 7px;}\n                    .dropper-header.dropper-no-empty{border-bottom: 1px solid #d8d8d8;}\n                    [dropper].dropper-is-scroll .dropper-header.dropper-empty{height: 28px;}\n                    .dropper-footer.dropper-no-empty{border-top: 1px solid #d8d8d8;}\n                    .dropper-content{position: relative;z-index: 1;}\n                    .dropper-content .inside-padd{padding: 12px 28px 12px 12px;}\n                    [dropper].dropper-image .dropper-content .inside-padd, [dropper].dropper-alert .dropper-content .inside-padd{padding: 10px;}\n                    [dropper].dropper-alert .dropper-group-btns{text-align: center;}\n                    .dropper-content button{margin-right: 4px;}\n                    button:focus, input:focus, select:focus, textarea:focus{outline: #b3b3b3 solid 1px;}\n                    .dropper-footer{background-color: #d5d5d5;padding: 0 12px;}\n                    .dropper-close, .dropper-prev, .dropper-next{outline: none;background: none;border: 0;cursor: pointer;vertical-align: middle;position: absolute;font-size: 0;padding: 0;line-height: 0;}\n                    .dropper-prev, .dropper-next{width: 35%;height: 100%;top: 0;z-index: 2;}\n                    .dropper-prev:focus, .dropper-next:focus{outline: none;}\n                    .dropper-icon-prev, .dropper-icon-next{width: 20px;height: 80px;line-height: 80px;}\n                    .dropper-icon-prev, .dropper-icon-next, .dropper-icon-close{font-family: "Trebuchet MS", "Helvetica CY", sans-serif;font-size: 21px;color: #999;background-color: #fff;display: inline-block;text-align: center;//display: inline;zoom: 1;}\n                    .dropper-icon-close{line-height: 19px;width: 19px;height: 19px;}\n                    .dropper-close{right: 5px;top: 4px;z-index: 3;}\n                    .dropper-next{right: 5px;text-align: right;}\n                    .dropper-prev{left: 5px;text-align: left;}\n                    [dropper].dropper-is-scroll .dropper-next{right: 16px;}\n                    .dropper-icon-next{text-align: center;}\n                    .icon-times-dropper{position: absolute;z-index:1;right:0;top: 0;cursor: pointer;width: 15px;height: 15px;}\n                    .nav{list-style: none;margin-left: 0;}\n                    .nav-vertical > li{display: block;border-top: 1px solid #ebebeb;padding: 8px 35px 8px 15px;}\n                    .nav-vertical > li > a{text-decoration: none;}\n                    .nav-vertical > li:first-child{border-top: 0;}\n                    .dropper-msg > div{border-width: 1px;border-style: solid;padding: 10px;}\n                    .dropper-success{background-color: #dff0d8;border-color: #d6e9c6;color: #3c763d;}\n                    .dropper-warning{background-color: #fcf8e3;border-color: #faebcc;color: #8a6d3b;}\n                    .dropper-error{background-color: #f2dede;border-color: #ebccd1;color: #a94442;}\n                    .dropper-info{background-color: #d9edf7;border-color: #bce8f1;color: #31708f;}\n                    [dropper].dropper-context .dropper-content .inside-padd{padding: 0;}\n                    [dropper]{max-width: 100%;font-family: Arial, "Helvetica CY", "Nimbus Sans L" sans-serif;font-size: 13px;color: #333;border: 1px solid #e4e4e4;background-color: #fff;}\n                    [dropper] .placePaste img{max-width: 100%;}\n                    [dropper].dropper-is-scroll .placePaste img{max-width: none; max-height: none;width: auto;height: auto;}\n                    .jspContainer{overflow: hidden;position: relative;}\n                    .jspPane{position: absolute;}\n                    .jspVerticalBar{position: absolute;top: 0;right: 0;width: 16px;height: 100%;background: red;}\n                    .jspHorizontalBar{position: absolute;bottom: 0;left: 0;width: 100%;height: 16px;background: red;}\n                    .jspCap{display: none;}\n                    .jspHorizontalBar .jspCap{float: left;}\n                    .jspTrack{background: #f9f8f7;position: relative;}\n                    .jspDrag{background: #d5d5d5;position: relative;top: 0;left: 0;cursor: pointer;}\n                    .jspHorizontalBar .jspTrack,.jspHorizontalBar .jspDrag{float: left;height: 100%;}\n                    .jspArrow{background: #ccc;position: relative;display: block;cursor: pointer;padding: 0;margin: 0;line-height: 0;}\n                    .jspArrow.jspDisabled{cursor: default;background: #eee;}\n                    .jspVerticalBar .jspArrow{height: 16px;}\n                    .jspHorizontalBar .jspArrow{width: 16px;float: left;height: 100%;}\n                    .jspVerticalBar .jspArrow:focus{outline: none;}\n                    .jspCorner{background: #eeeef4;float: left;height: 100%;}\n                    .jspArrowUp:before, .jspArrowDown:before, .jspArrowLeft:before, .jspArrowRight:before{position: absolute;font-size: 10px;color: #777;width: 100%;height: 100%;text-align: center;line-height: 16px;}\n                    .jspArrowUp:before{content: "\\25b2";}\n                    .jspArrowDown:before{content: "\\25bc";}\n                    .jspArrowLeft:before{content: "\\25c4";}\n                    {/*#dropper-loading div{background-image: url(loader.gif);}*/}\n                    .jspArrowRight:before{content: "\\25ba";}'
},regImg:/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i,mainStyle:"#dropper-loading {position: fixed;top: 50%;left: 50%;width: 40px;height: 40px;margin-top: -20px;margin-left: -20px;cursor: pointer;overflow: hidden;z-index: 11104;display: none;}\n                    #dropper-loading div{position: absolute;top: 0;left: 0;width: 480px;height: 40px;}\n                    .dropper{display: none;}.dropper-overlay{display:none;position:absolute;width:100%;left:0;top:0;}",reg:/[^a-zA-Z0-9]+/gi,autoPlayInterval:{},hashs:{},droppers:{},gallery:{},galleryOpt:{},galleryHashs:{},notifyTimeout:{},activeDropperCEsc:{},activeDropperCClick:{},isD:"isDropper",pC:"dropper-",activeClass:"dropper-active",aDS:"[data-elrun].dropper-center:visible, [data-elrun].dropper-global:visible",selAutoInit:"[data-dropper], [data-html]",tempClass:"dropper-temp",wasCreateClass:"dropper-was-create",emptyClass:"dropper-empty",noEmptyClass:"dropper-no-empty",activeDropper:[],cOD:0,disableScroll:function(){if(D.isTouch)return!1;var a=this;return a.enableScroll(),wnd.add(doc).on("mousewheel.scr"+$.dropper.nS,function(a){$(a.target).is("[data-elrun]")||D.existsN($(a.target).closest("[data-elrun]"))||a.preventDefault()}),D.scrollTop=wnd.scrollTop(),D.scrollLeft=wnd.scrollLeft(),wnd.on("scroll.scr"+$.dropper.nS,function(){$("html, body").scrollTop(D.scrollTop).scrollLeft(D.scrollLeft)}),a},enableScroll:function(){return D.isTouch?!1:(wnd.off("scroll.scr"+$.dropper.nS).add(doc).off("mousewheel.scr"+$.dropper.nS),this)},isTouch:document.createTouch!==undefined,existsN:function(a){return a&&a.length>0&&a instanceof $},exists:function(a){return $(a).length>0&&$(a)instanceof $},url:$("[src$='dropper.js'], [src$='dropper.min.js']").attr("src")+"/../",requireLength:0,requireCur:0};var D=$.dropper.drp,DP=$.dropper.dP;$.fn[D.actual=$.fn.actual?"actual"+ +new Date:"actual"]=function(){if(arguments.length&&"string"===$.type(arguments[0])){var a=arguments[0],b=this.clone();arguments[1]===undefined&&b.css({position:"absolute",top:"-9999px",left:"-9999px"}).show().appendTo($("body"));var c=b[a]();return b.remove(),c}return undefined},$.dropper.setParameters=function(a){return $.extend(DP,a),this},$.dropper.setThemes=function(){for(var a=0;a<arguments.length;a++){var b={};if(arguments[a].file!==undefined)!function(a,b){$.ajax({url:D.url+"styles/"+a.file+".css",dataType:"text",cache:!0,success:function(c){b[a.name]=c,$.extend(D.theme,b),a.callback&&a.callback.call($.dropper,a.name)},error:function(){throw methods._errorM(arguments[2])}})}(arguments[a],b);else{if(!arguments[a].text)throw methods._errorM("Data not enough");b[arguments[a].name]=arguments[a].text,$.extend(D.theme,b)}}return this},$.dropper.setMethod=function(a,b){var c={};return c[a]=b,$.extend(methods,c),this},$.dropper.getMethods=function(){var a={};for(var b in methods)/_/.test(b)||(a[b]=methods[b]);return a},$.dropper.close=function(a,b){return methods.close.call(a?$(a):null,"artificial close element","API",null,b)},$.dropper.cancel=function(){return D.curAjax&&D.curAjax.abort(),D.curAjax=null,D.imgPreload&&(D.imgPreload.onload=D.imgPreload.onerror=null),$.dropper.hideLoading(),this},$.dropper.update=function(a){return $(a?a:"[data-elrun]."+D.activeClass).each(function(){methods.update.call($(this))})},$.dropper.require=function(a,b){return function(a,b){"array"!==$.type(a)&&(a=a.split(",")),D.requireLength+=a.length;for(var c in a)methods.hasOwnProperty(a[c])||$.ajax({url:D.url+"methods/"+a[c]+".js",dataType:"script",cache:!0,success:function(){++D.requireCur===D.requireLength&&(b&&b.call($.dropper,a),doc.trigger("dropperRequire"))},error:function(){throw methods._errorM(arguments[2])}})}(a,b),this},doc.ready(function(){$("<style>",{html:D.mainStyle.replace(/\s{2,}/g," ").replace(/url\((.*)\)/g,"url("+D.url+"images/default/$1)")}).appendTo($("body")),D.scrollTop=wnd.scrollTop();var a,b=1,c=$("<div/>",{id:"dropper-loading"}).append($("<div/>")).appendTo($("body")),d=function(){return c.is(":visible")?($("div",c).css("left",-40*b+"px"),void(b=(b+1)%12)):void clearInterval(a)};$.dropper.showLoading=function(){return clearInterval(a),c.show(),a=setInterval(d,66),this},$.dropper.hideLoading=function(){return c.hide(),this}}).on("keyup."+$.dropper.nS,function(a){a.bubbles&&D.activeDropper[0]&&D.activeDropperCEsc[D.activeDropper[0]]&&D.activeDropperCEsc[D.activeDropper[0]](a)}).on("click."+$.dropper.nS,function(a){var b=$(a.target);!D.existsN(b.closest("[data-elrun]"))&&!b.is("[data-elrun]")&&b.is(":visible")&&a.bubbles&&D.activeDropper[0]&&D.activeDropperCClick[D.activeDropper[0]]&&D.activeDropperCClick[D.activeDropper[0]](a)}),wnd.on("load."+$.dropper.nS,function(){setTimeout(function(){var a=$(D.selAutoInit).not("."+D.isD);D.existsN(a)&&(D.requireLength&&D.requireCur!==D.requireLength?doc.on("dropperRequire."+$.dropper.nS,function(){a.dropper()}):a.dropper())},0)}).on("message."+$.dropper.nS,D.handlerMessageWindow)}(jQuery,jQuery(window),jQuery(document));